{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Abhinay%20Chowdary/OneDrive/fsd_project/quick-chat-react-project%20%281%29/utils/dummy-users.ts"],"sourcesContent":["/**\n * QuickChat - Dummy Users Data\n *\n * This file contains mock user data for development and testing.\n * In production, this would be replaced with actual API calls.\n */\n\nexport interface User {\n  id: string\n  name: string\n  email: string\n  avatar: string\n  status: \"online\" | \"offline\" | \"away\"\n  lastSeen?: string\n}\n\nexport const dummyUsers: User[] = [\n  // Start with an empty seed so only users created at runtime are shown\n]\n\nconst REGISTERED_USERS_KEY = \"quickchat_registered_users\"\n\n/**\n * Get all registered users from localStorage\n */\nexport const getRegisteredUsers = (): User[] => {\n  if (typeof window === \"undefined\") return []\n  try {\n    const stored = localStorage.getItem(REGISTERED_USERS_KEY)\n    return stored ? JSON.parse(stored) : []\n  } catch {\n    return []\n  }\n}\n\n/**\n * Save a new registered user to localStorage\n */\nexport const saveRegisteredUser = (user: User): void => {\n  if (typeof window === \"undefined\") return\n  const registered = getRegisteredUsers()\n  // Check if user already exists\n  if (!registered.find((u) => u.id === user.id || u.email === user.email)) {\n    registered.push(user)\n    localStorage.setItem(REGISTERED_USERS_KEY, JSON.stringify(registered))\n  }\n}\n\n/**\n * Get ALL users (dummy + registered)\n */\nexport const getAllUsers = (): User[] => {\n  // Only return registered users. The app will display only users created at runtime.\n  return getRegisteredUsers()\n}\n\n/**\n * Get user by ID (checks both dummy and registered)\n */\nexport const getUserById = (id: string): User | undefined => {\n  return getAllUsers().find((user) => user.id === id)\n}\n\n/**\n * Get users by IDs\n */\nexport const getUsersByIds = (ids: string[]): User[] => {\n  return getAllUsers().filter((user) => ids.includes(user.id))\n}\n"],"names":[],"mappings":"AAAA;;;;;CAKC;;;;;;;;;;;;;;AAWM,MAAM,aAAqB,EAEjC;AAED,MAAM,uBAAuB;AAKtB,MAAM,qBAAqB;IAChC,wCAAmC,OAAO,EAAE;;;AAO9C;AAKO,MAAM,qBAAqB,CAAC;IACjC,wCAAmC;;;IACnC,MAAM;AAMR;AAKO,MAAM,cAAc;IACzB,oFAAoF;IACpF,OAAO;AACT;AAKO,MAAM,cAAc,CAAC;IAC1B,OAAO,cAAc,IAAI,CAAC,CAAC,OAAS,KAAK,EAAE,KAAK;AAClD;AAKO,MAAM,gBAAgB,CAAC;IAC5B,OAAO,cAAc,MAAM,CAAC,CAAC,OAAS,IAAI,QAAQ,CAAC,KAAK,EAAE;AAC5D"}},
    {"offset": {"line": 56, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Abhinay%20Chowdary/OneDrive/fsd_project/quick-chat-react-project%20%281%29/context/auth-context.tsx"],"sourcesContent":["\"use client\"\n\n/**\n * QuickChat - Authentication Context\n *\n * Manages user authentication state throughout the application.\n * Uses dummy authentication for development - easily replaceable with real auth.\n */\n\nimport type React from \"react\"\nimport { createContext, useContext, useState, useCallback, useEffect } from \"react\"\nimport { getAllUsers, saveRegisteredUser, type User } from \"@/utils/dummy-users\"\n\ninterface AuthContextType {\n  user: User | null\n  isAuthenticated: boolean\n  isLoading: boolean\n  login: (email: string, password: string) => Promise<boolean>\n  register: (name: string, email: string, password: string) => Promise<boolean>\n  logout: () => void\n  error: string | null\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined)\n\nexport function AuthProvider({ children }: { children: React.ReactNode }) {\n  const [user, setUser] = useState<User | null>(null)\n  const [isLoading, setIsLoading] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n\n  // Skip auto-login - user must explicitly login\n  useEffect(() => {\n    setIsLoading(false)\n  }, [])\n\n  /**\n   * Login function - authenticates user with email/password\n   * In production, this would call a real authentication API\n   */\n  const login = useCallback(async (email: string, password: string): Promise<boolean> => {\n    setIsLoading(true)\n    setError(null)\n\n    // Simulate API delay\n    await new Promise((resolve) => setTimeout(resolve, 800))\n\n    const allUsers = getAllUsers()\n    const foundUser = allUsers.find((u) => u.email.toLowerCase() === email.toLowerCase())\n\n    if (foundUser && password.length >= 6) {\n      const loggedInUser = { ...foundUser, status: \"online\" as const }\n      setUser(loggedInUser)\n      localStorage.setItem(\"quickchat_user\", JSON.stringify(loggedInUser))\n      setIsLoading(false)\n      return true\n    }\n\n    setError(\"Invalid email or password\")\n    setIsLoading(false)\n    return false\n  }, [])\n\n  /**\n   * Register function - creates new user account\n   * In production, this would call a real registration API\n   */\n  const register = useCallback(async (name: string, email: string, password: string): Promise<boolean> => {\n    setIsLoading(true)\n    setError(null)\n\n    // Simulate API delay\n    await new Promise((resolve) => setTimeout(resolve, 800))\n\n    const allUsers = getAllUsers()\n    const existingUser = allUsers.find((u) => u.email.toLowerCase() === email.toLowerCase())\n\n    if (existingUser) {\n      setError(\"Email already registered\")\n      setIsLoading(false)\n      return false\n    }\n\n    if (password.length < 6) {\n      setError(\"Password must be at least 6 characters\")\n      setIsLoading(false)\n      return false\n    }\n\n    // Create new user\n    const newUser: User = {\n      id: `user-${Date.now()}`,\n      name,\n      email,\n      avatar: `/placeholder.svg?height=40&width=40&query=${encodeURIComponent(name)} avatar`,\n      status: \"online\",\n    }\n\n    saveRegisteredUser(newUser)\n\n    setUser(newUser)\n    localStorage.setItem(\"quickchat_user\", JSON.stringify(newUser))\n    setIsLoading(false)\n    return true\n  }, [])\n\n  /**\n   * Logout function - clears user session\n   */\n  const logout = useCallback(() => {\n    setUser(null)\n    localStorage.removeItem(\"quickchat_user\")\n  }, [])\n\n  const value: AuthContextType = {\n    user,\n    isAuthenticated: !!user,\n    isLoading,\n    login,\n    register,\n    logout,\n    error,\n  }\n\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>\n}\n\n/**\n * Custom hook to access auth context\n */\nexport function useAuth() {\n  const context = useContext(AuthContext)\n  if (context === undefined) {\n    throw new Error(\"useAuth must be used within an AuthProvider\")\n  }\n  return context\n}\n"],"names":[],"mappings":";;;;;;;AAUA;AACA;AAXA;;;;AAuBA,MAAM,4BAAc,IAAA,mRAAa,EAA8B;AAExD,SAAS,aAAa,EAAE,QAAQ,EAAiC;IACtE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,8QAAQ,EAAc;IAC9C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,8QAAQ,EAAC;IAC3C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,8QAAQ,EAAgB;IAElD,+CAA+C;IAC/C,IAAA,+QAAS,EAAC;QACR,aAAa;IACf,GAAG,EAAE;IAEL;;;GAGC,GACD,MAAM,QAAQ,IAAA,iRAAW,EAAC,OAAO,OAAe;QAC9C,aAAa;QACb,SAAS;QAET,qBAAqB;QACrB,MAAM,IAAI,QAAQ,CAAC,UAAY,WAAW,SAAS;QAEnD,MAAM,WAAW,IAAA,mMAAW;QAC5B,MAAM,YAAY,SAAS,IAAI,CAAC,CAAC,IAAM,EAAE,KAAK,CAAC,WAAW,OAAO,MAAM,WAAW;QAElF,IAAI,aAAa,SAAS,MAAM,IAAI,GAAG;YACrC,MAAM,eAAe;gBAAE,GAAG,SAAS;gBAAE,QAAQ;YAAkB;YAC/D,QAAQ;YACR,aAAa,OAAO,CAAC,kBAAkB,KAAK,SAAS,CAAC;YACtD,aAAa;YACb,OAAO;QACT;QAEA,SAAS;QACT,aAAa;QACb,OAAO;IACT,GAAG,EAAE;IAEL;;;GAGC,GACD,MAAM,WAAW,IAAA,iRAAW,EAAC,OAAO,MAAc,OAAe;QAC/D,aAAa;QACb,SAAS;QAET,qBAAqB;QACrB,MAAM,IAAI,QAAQ,CAAC,UAAY,WAAW,SAAS;QAEnD,MAAM,WAAW,IAAA,mMAAW;QAC5B,MAAM,eAAe,SAAS,IAAI,CAAC,CAAC,IAAM,EAAE,KAAK,CAAC,WAAW,OAAO,MAAM,WAAW;QAErF,IAAI,cAAc;YAChB,SAAS;YACT,aAAa;YACb,OAAO;QACT;QAEA,IAAI,SAAS,MAAM,GAAG,GAAG;YACvB,SAAS;YACT,aAAa;YACb,OAAO;QACT;QAEA,kBAAkB;QAClB,MAAM,UAAgB;YACpB,IAAI,CAAC,KAAK,EAAE,KAAK,GAAG,IAAI;YACxB;YACA;YACA,QAAQ,CAAC,0CAA0C,EAAE,mBAAmB,MAAM,OAAO,CAAC;YACtF,QAAQ;QACV;QAEA,IAAA,0MAAkB,EAAC;QAEnB,QAAQ;QACR,aAAa,OAAO,CAAC,kBAAkB,KAAK,SAAS,CAAC;QACtD,aAAa;QACb,OAAO;IACT,GAAG,EAAE;IAEL;;GAEC,GACD,MAAM,SAAS,IAAA,iRAAW,EAAC;QACzB,QAAQ;QACR,aAAa,UAAU,CAAC;IAC1B,GAAG,EAAE;IAEL,MAAM,QAAyB;QAC7B;QACA,iBAAiB,CAAC,CAAC;QACnB;QACA;QACA;QACA;QACA;IACF;IAEA,qBAAO,2SAAC,YAAY,QAAQ;QAAC,OAAO;kBAAQ;;;;;;AAC9C;AAKO,SAAS;IACd,MAAM,UAAU,IAAA,gRAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT"}},
    {"offset": {"line": 171, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Abhinay%20Chowdary/OneDrive/fsd_project/quick-chat-react-project%20%281%29/utils/dummy-chats.ts"],"sourcesContent":["export interface Message {\n  id: string\n  chatId: string\n  senderId: string\n  content: string\n  timestamp: Date\n  status: \"sent\" | \"delivered\" | \"read\"\n}\n\nexport interface Chat {\n  id: string\n  type: \"direct\" | \"group\"\n  name?: string // For group chats\n  avatar?: string // For group chats\n  participants: string[] // User IDs\n  lastMessage?: Message\n  unreadCount: number\n  createdAt: Date\n}\n\n// Generate timestamps relative to now\nconst now = new Date()\nconst minutesAgo = (mins: number) => new Date(now.getTime() - mins * 60000)\nconst hoursAgo = (hours: number) => new Date(now.getTime() - hours * 3600000)\n\nexport const dummyMessages: Message[] = []\n\nexport const dummyChats: Chat[] = []\n\n/**\n * Get messages for a specific chat\n */\nexport const getMessagesByChatId = (chatId: string): Message[] => {\n  return dummyMessages.filter((msg) => msg.chatId === chatId)\n}\n\n/**\n * Get chat by ID\n */\nexport const getChatById = (id: string): Chat | undefined => {\n  return dummyChats.find((chat) => chat.id === id)\n}\n"],"names":[],"mappings":";;;;;;;;;;AAoBA,sCAAsC;AACtC,MAAM,MAAM,IAAI;AAChB,MAAM,aAAa,CAAC,OAAiB,IAAI,KAAK,IAAI,OAAO,KAAK,OAAO;AACrE,MAAM,WAAW,CAAC,QAAkB,IAAI,KAAK,IAAI,OAAO,KAAK,QAAQ;AAE9D,MAAM,gBAA2B,EAAE;AAEnC,MAAM,aAAqB,EAAE;AAK7B,MAAM,sBAAsB,CAAC;IAClC,OAAO,cAAc,MAAM,CAAC,CAAC,MAAQ,IAAI,MAAM,KAAK;AACtD;AAKO,MAAM,cAAc,CAAC;IAC1B,OAAO,WAAW,IAAI,CAAC,CAAC,OAAS,KAAK,EAAE,KAAK;AAC/C"}},
    {"offset": {"line": 197, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Abhinay%20Chowdary/OneDrive/fsd_project/quick-chat-react-project%20%281%29/context/chat-context.tsx"],"sourcesContent":["\"use client\"\n\n/**\n * QuickChat - Chat Context\n *\n * Manages all chat-related state including messages, active chats,\n * and chat operations. Structured for easy backend integration.\n */\n\nimport type React from \"react\"\nimport { createContext, useContext, useState, useCallback, useMemo, useEffect } from \"react\"\nimport { dummyChats, dummyMessages, type Chat, type Message } from \"@/utils/dummy-chats\"\nimport { getAllUsers, type User } from \"@/utils/dummy-users\"\nimport { useAuth } from \"./auth-context\"\n\nconst STORAGE_KEYS = {\n  CHATS: \"quickchat_chats\",\n  MESSAGES: \"quickchat_messages\",\n}\n\nfunction getStoredChats(): Chat[] {\n  if (typeof window === \"undefined\") return []\n  try {\n    const stored = localStorage.getItem(STORAGE_KEYS.CHATS)\n    if (stored) {\n      const parsed = JSON.parse(stored)\n      return parsed.map((chat: Chat) => ({\n        ...chat,\n        createdAt: new Date(chat.createdAt),\n        lastMessage: chat.lastMessage\n          ? { ...chat.lastMessage, timestamp: new Date(chat.lastMessage.timestamp) }\n          : undefined,\n      }))\n    }\n  } catch (e) {\n    console.error(\"[Chat Context] Error reading chats from localStorage:\", e)\n  }\n  return []\n}\n\nfunction getStoredMessages(): Message[] {\n  if (typeof window === \"undefined\") return []\n  try {\n    const stored = localStorage.getItem(STORAGE_KEYS.MESSAGES)\n    if (stored) {\n      const parsed = JSON.parse(stored)\n      return parsed.map((msg: Message) => ({\n        ...msg,\n        timestamp: new Date(msg.timestamp),\n      }))\n    }\n  } catch (e) {\n    console.error(\"[Chat Context] Error reading messages from localStorage:\", e)\n  }\n  return []\n}\n\nfunction saveChatsToStorage(chats: Chat[]) {\n  if (typeof window === \"undefined\") return\n  try {\n    localStorage.setItem(STORAGE_KEYS.CHATS, JSON.stringify(chats))\n  } catch (e) {\n    console.error(\"[Chat Context] Error saving chats to localStorage:\", e)\n  }\n}\n\nfunction saveMessagesToStorage(messages: Message[]) {\n  if (typeof window === \"undefined\") return\n  try {\n    localStorage.setItem(STORAGE_KEYS.MESSAGES, JSON.stringify(messages))\n  } catch (e) {\n    console.error(\"[Chat Context] Error saving messages to localStorage:\", e)\n  }\n}\n\n/**\n * Remove duplicate chats. For group chats, dedupe by group name so\n * there is only one group with the same name. For other chats, keep\n * the first occurrence.\n */\nfunction dedupeChats(chats: Chat[]): Chat[] {\n  const seen = new Set<string>()\n  const out: Chat[] = []\n\n  for (const c of chats) {\n    const key = c.type === \"group\" && c.name ? `group:${c.name}` : `chat:${c.id}`\n    if (!seen.has(key)) {\n      seen.add(key)\n      out.push(c)\n    }\n  }\n\n  return out\n}\n\ninterface ChatContextType {\n  // State\n  chats: Chat[]\n  messages: Message[]\n  selectedChat: Chat | null\n  typingUsers: { [chatId: string]: string[] }\n\n  // Actions\n  selectChat: (chatId: string) => void\n  sendMessage: (content: string) => void\n  createGroupChat: (name: string, participantIds: string[]) => void\n  createDirectChat: (userId: string) => void\n  removeUserFromChat: (chatId: string, userId: string) => void\n  deleteChat: (chatId: string) => void\n  editChat: (chatId: string, updates: Partial<Pick<Chat, \"name\" | \"avatar\" | \"participants\">>) => void\n  markAsRead: (chatId: string) => void\n  setTyping: (chatId: string, isTyping: boolean) => void\n\n  // Helpers\n  getChatName: (chat: Chat) => string\n  getChatAvatar: (chat: Chat) => string\n  getOtherParticipant: (chat: Chat) => User | undefined\n  availableUsers: User[]\n}\n\nconst ChatContext = createContext<ChatContextType | undefined>(undefined)\n\nexport function ChatProvider({ children }: { children: React.ReactNode }) {\n  const { user } = useAuth()\n\n  const [chats, setChats] = useState<Chat[]>([])\n  const [messages, setMessages] = useState<Message[]>([])\n  const [selectedChat, setSelectedChat] = useState<Chat | null>(null)\n  const [typingUsers, setTypingUsers] = useState<{ [chatId: string]: string[] }>({})\n  const [allUsers, setAllUsers] = useState<User[]>([])\n  const [isInitialized, setIsInitialized] = useState(false)\n\n  useEffect(() => {\n    const storedChats = getStoredChats()\n    const storedMessages = getStoredMessages()\n\n    // Merge stored data with defaults (avoid duplicates)\n    if (storedChats.length > 0) {\n      const cleaned = dedupeChats(storedChats)\n      setChats(cleaned)\n      if (cleaned.length !== storedChats.length) saveChatsToStorage(cleaned)\n    } else {\n      const cleaned = dedupeChats(dummyChats)\n      setChats(cleaned)\n      saveChatsToStorage(cleaned)\n    }\n\n    if (storedMessages.length > 0) {\n      setMessages(storedMessages)\n    } else {\n      setMessages(dummyMessages)\n      saveMessagesToStorage(dummyMessages)\n    }\n\n    setIsInitialized(true)\n  }, [])\n\n  useEffect(() => {\n    if (!user || !isInitialized) return\n\n    const refreshData = () => {\n      const storedChats = getStoredChats()\n      const storedMessages = getStoredMessages()\n\n      if (storedChats.length > 0) {\n        const cleaned = dedupeChats(storedChats)\n        setChats(cleaned)\n        if (cleaned.length !== storedChats.length) saveChatsToStorage(cleaned)\n      }\n      if (storedMessages.length > 0) {\n        setMessages(storedMessages)\n      }\n    }\n\n    // Refresh immediately\n    refreshData()\n\n    const interval = setInterval(refreshData, 2000)\n\n    return () => clearInterval(interval)\n  }, [user, isInitialized])\n\n  useEffect(() => {\n    // Initial load\n    setAllUsers(getAllUsers())\n\n    // Poll for new users every 2 seconds\n    const interval = setInterval(() => {\n      setAllUsers(getAllUsers())\n    }, 2000)\n\n    return () => clearInterval(interval)\n  }, [user])\n\n  useEffect(() => {\n    setAllUsers(getAllUsers())\n  }, [user])\n\n  /**\n   * Select a chat and load its messages\n   */\n  const selectChat = useCallback(\n    (chatId: string) => {\n      const chat = chats.find((c) => c.id === chatId)\n      if (chat) {\n        setSelectedChat(chat)\n        // Mark messages as read\n        setChats((prev) => {\n          const updated = prev.map((c) => (c.id === chatId ? { ...c, unreadCount: 0 } : c))\n          saveChatsToStorage(updated)\n          return updated\n        })\n      }\n    },\n    [chats],\n  )\n\n  /**\n   * Send a new message in the selected chat\n   */\n  const sendMessage = useCallback(\n    (content: string) => {\n      if (!selectedChat || !user || !content.trim()) return\n\n      const newMessage: Message = {\n        id: `msg-${Date.now()}-${user.id}`,\n        chatId: selectedChat.id,\n        senderId: user.id,\n        content: content.trim(),\n        timestamp: new Date(),\n        status: \"sent\",\n      }\n\n      setMessages((prev) => {\n        const updated = [...prev, newMessage]\n        saveMessagesToStorage(updated)\n        return updated\n      })\n\n      setChats((prev) => {\n        const updated = prev.map((chat) => {\n          if (chat.id === selectedChat.id) {\n            return {\n              ...chat,\n              lastMessage: newMessage,\n              // Increment unread count for the recipient\n              unreadCount: 0,\n            }\n          }\n          return chat\n        })\n        saveChatsToStorage(updated)\n        return updated\n      })\n\n      // Simulate message delivery status update\n      setTimeout(() => {\n        setMessages((prev) => {\n          const updated = prev.map((msg) => (msg.id === newMessage.id ? { ...msg, status: \"delivered\" } : msg))\n          saveMessagesToStorage(updated)\n          return updated\n        })\n      }, 1000)\n\n      // Simulate read status\n      setTimeout(() => {\n        setMessages((prev) => {\n          const updated = prev.map((msg) => (msg.id === newMessage.id ? { ...msg, status: \"read\" } : msg))\n          saveMessagesToStorage(updated)\n          return updated\n        })\n      }, 2000)\n    },\n    [selectedChat, user],\n  )\n\n  /**\n   * Create a new group chat\n   */\n  const createGroupChat = useCallback(\n    (name: string, participantIds: string[]) => {\n      if (!user) return\n\n      const newChat: Chat = {\n        id: `chat-${Date.now()}`,\n        type: \"group\",\n        name,\n        avatar: `/placeholder.svg?height=40&width=40&query=${encodeURIComponent(name)} group`,\n        participants: [user.id, ...participantIds],\n        unreadCount: 0,\n        createdAt: new Date(),\n      }\n\n      setChats((prev) => {\n        const updated = [newChat, ...prev]\n        saveChatsToStorage(updated)\n        return updated\n      })\n      setSelectedChat(newChat)\n    },\n    [user],\n  )\n\n  /**\n   * Create or open a direct chat with a user\n   */\n  const createDirectChat = useCallback(\n    (userId: string) => {\n      if (!user) return\n\n      const latestChats = getStoredChats()\n      const existingChat = latestChats.find(\n        (chat) => chat.type === \"direct\" && chat.participants.includes(user.id) && chat.participants.includes(userId),\n      )\n\n      if (existingChat) {\n        setChats(latestChats)\n        setSelectedChat(existingChat)\n        return\n      }\n\n      const newChat: Chat = {\n        id: `chat-${Date.now()}-${user.id}-${userId}`,\n        type: \"direct\",\n        participants: [user.id, userId],\n        unreadCount: 0,\n        createdAt: new Date(),\n      }\n\n      const updatedChats = [newChat, ...latestChats]\n      saveChatsToStorage(updatedChats)\n      setChats(updatedChats)\n      setSelectedChat(newChat)\n    },\n    [user],\n  )\n\n  /**\n   * Mark all messages in a chat as read\n   */\n  const markAsRead = useCallback((chatId: string) => {\n    setChats((prev) => {\n      const updated = prev.map((chat) => (chat.id === chatId ? { ...chat, unreadCount: 0 } : chat))\n      saveChatsToStorage(updated)\n      return updated\n    })\n  }, [])\n\n  /**\n   * Remove a user from a chat. If after removal the chat has fewer than\n   * 2 participants, the chat will be deleted.\n   */\n  const removeUserFromChat = useCallback(\n    (chatId: string, userId: string) => {\n      setChats((prev) => {\n        const updated: Chat[] = []\n        for (const c of prev) {\n          if (c.id === chatId) {\n            const participants = c.participants.filter((p) => p !== userId)\n            if (participants.length < 2) {\n              // skip adding -> effectively delete the chat\n              continue\n            }\n            updated.push({ ...c, participants })\n          } else {\n            updated.push(c)\n          }\n        }\n        saveChatsToStorage(updated)\n\n        // If the selected chat was modified/removed, update selectedChat\n        if (selectedChat?.id === chatId) {\n          const found = updated.find((ch) => ch.id === chatId)\n          if (found) setSelectedChat(found)\n          else setSelectedChat(null)\n        }\n\n        return updated\n      })\n    },\n    [selectedChat],\n  )\n\n  /** Delete a chat and its messages */\n  const deleteChat = useCallback(\n    (chatId: string) => {\n      setChats((prev) => {\n        const updated = prev.filter((c) => c.id !== chatId)\n        saveChatsToStorage(updated)\n        return updated\n      })\n\n      setMessages((prev) => {\n        const updated = prev.filter((m) => m.chatId !== chatId)\n        saveMessagesToStorage(updated)\n        return updated\n      })\n\n      if (selectedChat?.id === chatId) {\n        setSelectedChat(null)\n      }\n    },\n    [selectedChat],\n  )\n\n  /** Edit chat metadata (name, avatar, participants) */\n  const editChat = useCallback(\n    (chatId: string, updates: Partial<Pick<Chat, \"name\" | \"avatar\" | \"participants\">>) => {\n      setChats((prev) => {\n        const updated = prev.map((c) => (c.id === chatId ? { ...c, ...updates } : c))\n        saveChatsToStorage(updated)\n        return updated\n      })\n\n      if (selectedChat?.id === chatId) {\n        const latest = getStoredChats().find((c) => c.id === chatId) || null\n        setSelectedChat(latest)\n      }\n    },\n    [selectedChat],\n  )\n\n  /**\n   * Set typing indicator for current user in a chat\n   */\n  const setTyping = useCallback(\n    (chatId: string, isTyping: boolean) => {\n      if (!user) return\n\n      setTypingUsers((prev) => {\n        const currentTyping = prev[chatId] || []\n        if (isTyping && !currentTyping.includes(user.id)) {\n          return { ...prev, [chatId]: [...currentTyping, user.id] }\n        } else if (!isTyping) {\n          return { ...prev, [chatId]: currentTyping.filter((id) => id !== user.id) }\n        }\n        return prev\n      })\n    },\n    [user],\n  )\n\n  /**\n   * Get display name for a chat\n   */\n  const getChatName = useCallback(\n    (chat: Chat): string => {\n      if (chat.type === \"group\") {\n        return chat.name || \"Group Chat\"\n      }\n\n      const otherUserId = chat.participants.find((id) => id !== user?.id)\n      const otherUser = allUsers.find((u) => u.id === otherUserId)\n      return otherUser?.name || \"Unknown User\"\n    },\n    [user, allUsers],\n  )\n\n  /**\n   * Get avatar for a chat\n   */\n  const getChatAvatar = useCallback(\n    (chat: Chat): string => {\n      if (chat.type === \"group\" && chat.avatar) {\n        return chat.avatar\n      }\n\n      const otherUserId = chat.participants.find((id) => id !== user?.id)\n      const otherUser = allUsers.find((u) => u.id === otherUserId)\n      return otherUser?.avatar || \"/default-avatar.png\"\n    },\n    [user, allUsers],\n  )\n\n  /**\n   * Get the other participant in a direct chat\n   */\n  const getOtherParticipant = useCallback(\n    (chat: Chat): User | undefined => {\n      if (chat.type !== \"direct\") return undefined\n      const otherUserId = chat.participants.find((id) => id !== user?.id)\n      return allUsers.find((u) => u.id === otherUserId)\n    },\n    [user, allUsers],\n  )\n\n  /**\n   * Get users available for new chats (excludes current user)\n   * Now includes registered users from localStorage\n   */\n  const availableUsers = useMemo(() => {\n    if (!user) return []\n    return allUsers.filter((u) => u.id !== user.id)\n  }, [user, allUsers])\n\n  const value: ChatContextType = {\n    chats,\n    messages,\n    selectedChat,\n    typingUsers,\n    selectChat,\n    sendMessage,\n    createGroupChat,\n    createDirectChat,\n    markAsRead,\n    setTyping,\n    getChatName,\n    getChatAvatar,\n    getOtherParticipant,\n    availableUsers,\n  }\n\n  return <ChatContext.Provider value={value}>{children}</ChatContext.Provider>\n}\n\n/**\n * Custom hook to access chat context\n */\nexport function useChat() {\n  const context = useContext(ChatContext)\n  if (context === undefined) {\n    throw new Error(\"useChat must be used within a ChatProvider\")\n  }\n  return context\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 645, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Abhinay%20Chowdary/OneDrive/fsd_project/quick-chat-react-project%20%281%29/context/socket-context.tsx"],"sourcesContent":["\"use client\"\n\n/**\n * QuickChat - Socket Context (Mock Implementation)\n *\n * Provides WebSocket-like functionality for real-time features.\n * This is a placeholder implementation that simulates socket behavior.\n *\n * In production, replace with actual Socket.io or WebSocket connection:\n * - import { io } from \"socket.io-client\";\n * - const socket = io(\"YOUR_SOCKET_SERVER_URL\");\n */\n\nimport type React from \"react\"\nimport { createContext, useContext, useCallback, useEffect, useState } from \"react\"\nimport { useAuth } from \"./auth-context\"\n\ntype SocketEventHandler = (data: unknown) => void\n\ninterface SocketContextType {\n  isConnected: boolean\n  emit: (event: string, data: unknown) => void\n  on: (event: string, handler: SocketEventHandler) => void\n  off: (event: string, handler: SocketEventHandler) => void\n}\n\nconst SocketContext = createContext<SocketContextType | undefined>(undefined)\n\nexport function SocketProvider({ children }: { children: React.ReactNode }) {\n  const { user, isAuthenticated } = useAuth()\n  const [isConnected, setIsConnected] = useState(false)\n  const [eventHandlers, setEventHandlers] = useState<{\n    [event: string]: SocketEventHandler[]\n  }>({})\n\n  /**\n   * Simulate socket connection when user authenticates\n   */\n  useEffect(() => {\n    if (isAuthenticated && user) {\n      // Simulate connection delay\n      const timer = setTimeout(() => {\n        setIsConnected(true)\n        console.log(\"[QuickChat Socket] Connected as:\", user.name)\n\n        // Emit connected event\n        triggerEvent(\"user:connected\", { userId: user.id })\n      }, 500)\n\n      return () => {\n        clearTimeout(timer)\n        setIsConnected(false)\n        console.log(\"[QuickChat Socket] Disconnected\")\n      }\n    } else {\n      setIsConnected(false)\n    }\n  }, [isAuthenticated, user])\n\n  /**\n   * Trigger all handlers for an event\n   */\n  const triggerEvent = useCallback(\n    (event: string, data: unknown) => {\n      const handlers = eventHandlers[event] || []\n      handlers.forEach((handler) => handler(data))\n    },\n    [eventHandlers],\n  )\n\n  /**\n   * Emit an event (simulates sending to server)\n   * In production, this would use socket.emit()\n   */\n  const emit = useCallback(\n    (event: string, data: unknown) => {\n      if (!isConnected) {\n        console.warn(\"[QuickChat Socket] Not connected, cannot emit:\", event)\n        return\n      }\n\n      console.log(\"[QuickChat Socket] Emit:\", event, data)\n\n      // Simulate server response for certain events\n      switch (event) {\n        case \"message:send\":\n          // Simulate message delivery confirmation\n          setTimeout(() => {\n            triggerEvent(\"message:delivered\", data)\n          }, 500)\n          break\n\n        case \"typing:start\":\n          // Simulate typing indicator broadcast\n          setTimeout(() => {\n            triggerEvent(\"user:typing\", data)\n          }, 100)\n          break\n\n        case \"typing:stop\":\n          setTimeout(() => {\n            triggerEvent(\"user:stopped-typing\", data)\n          }, 100)\n          break\n\n        default:\n          break\n      }\n    },\n    [isConnected, triggerEvent],\n  )\n\n  /**\n   * Subscribe to an event\n   */\n  const on = useCallback((event: string, handler: SocketEventHandler) => {\n    setEventHandlers((prev) => ({\n      ...prev,\n      [event]: [...(prev[event] || []), handler],\n    }))\n  }, [])\n\n  /**\n   * Unsubscribe from an event\n   */\n  const off = useCallback((event: string, handler: SocketEventHandler) => {\n    setEventHandlers((prev) => ({\n      ...prev,\n      [event]: (prev[event] || []).filter((h) => h !== handler),\n    }))\n  }, [])\n\n  /**\n   * Simulate random typing indicators from other users\n   */\n  useEffect(() => {\n    if (!isConnected) return\n\n    const interval = setInterval(() => {\n      // Randomly trigger typing indicator (10% chance)\n      if (Math.random() < 0.1) {\n        triggerEvent(\"user:typing\", {\n          userId: \"user-2\",\n          chatId: \"chat-1\",\n        })\n\n        // Stop typing after 2-4 seconds\n        setTimeout(\n          () => {\n            triggerEvent(\"user:stopped-typing\", {\n              userId: \"user-2\",\n              chatId: \"chat-1\",\n            })\n          },\n          2000 + Math.random() * 2000,\n        )\n      }\n    }, 5000)\n\n    return () => clearInterval(interval)\n  }, [isConnected, triggerEvent])\n\n  const value: SocketContextType = {\n    isConnected,\n    emit,\n    on,\n    off,\n  }\n\n  return <SocketContext.Provider value={value}>{children}</SocketContext.Provider>\n}\n\n/**\n * Custom hook to access socket context\n */\nexport function useSocket() {\n  const context = useContext(SocketContext)\n  if (context === undefined) {\n    throw new Error(\"useSocket must be used within a SocketProvider\")\n  }\n  return context\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 801, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Abhinay%20Chowdary/OneDrive/fsd_project/quick-chat-react-project%20%281%29/context/friend-context.tsx"],"sourcesContent":["\"use client\"\n\n/**\n * QuickChat - Friend Context\n *\n * Manages friend requests and friendships between users.\n * Uses a global shared database in localStorage so all users can access each other's data.\n */\n\nimport type React from \"react\"\nimport { createContext, useContext, useState, useCallback, useEffect, useRef } from \"react\"\nimport { useAuth } from \"./auth-context\"\n\n// Friend request status types\nexport type RequestStatus = \"pending\" | \"accepted\" | \"rejected\"\n\n// Friend request interface\nexport interface FriendRequest {\n  id: string\n  fromUserId: string\n  toUserId: string\n  status: RequestStatus\n  createdAt: Date\n}\n\n// Friendship interface (accepted requests)\nexport interface Friendship {\n  id: string\n  user1Id: string\n  user2Id: string\n  createdAt: Date\n}\n\ninterface FriendContextType {\n  // State\n  friendRequests: FriendRequest[]\n  friendships: Friendship[]\n\n  // Actions\n  sendFriendRequest: (toUserId: string) => void\n  acceptFriendRequest: (requestId: string) => void\n  rejectFriendRequest: (requestId: string) => void\n  cancelFriendRequest: (requestId: string) => void\n  removeFriend: (friendshipId: string) => void\n\n  // Helpers\n  isFriend: (userId: string) => boolean\n  hasPendingRequestTo: (userId: string) => boolean\n  hasPendingRequestFrom: (userId: string) => boolean\n  getRequestStatus: (userId: string) => \"none\" | \"sent\" | \"received\" | \"friends\"\n  getIncomingRequests: () => FriendRequest[]\n  getOutgoingRequests: () => FriendRequest[]\n  getFriendIds: () => string[]\n}\n\nconst FriendContext = createContext<FriendContextType | undefined>(undefined)\n\n// Global database keys - shared by all users\nconst GLOBAL_REQUESTS_DB = \"quickchat_all_requests_db\"\nconst GLOBAL_FRIENDSHIPS_DB = \"quickchat_all_friendships_db\"\nconst POLL_INTERVAL = 1000 // Check for updates every second\n\n// Helper functions to manage global database\nconst getAllRequestsFromDB = (): FriendRequest[] => {\n  if (typeof window === \"undefined\") return []\n  try {\n    const data = localStorage.getItem(GLOBAL_REQUESTS_DB)\n    return data ? JSON.parse(data) : []\n  } catch (e) {\n    console.error(\"Error reading requests DB:\", e)\n    return []\n  }\n}\n\nconst getAllFriendshipsFromDB = (): Friendship[] => {\n  if (typeof window === \"undefined\") return []\n  try {\n    const data = localStorage.getItem(GLOBAL_FRIENDSHIPS_DB)\n    return data ? JSON.parse(data) : []\n  } catch (e) {\n    console.error(\"Error reading friendships DB:\", e)\n    return []\n  }\n}\n\nconst saveRequestsToDB = (requests: FriendRequest[]) => {\n  if (typeof window === \"undefined\") return\n  try {\n    localStorage.setItem(GLOBAL_REQUESTS_DB, JSON.stringify(requests))\n  } catch (e) {\n    console.error(\"Error saving requests DB:\", e)\n  }\n}\n\nconst saveFriendshipsToDB = (friendships: Friendship[]) => {\n  if (typeof window === \"undefined\") return\n  try {\n    localStorage.setItem(GLOBAL_FRIENDSHIPS_DB, JSON.stringify(friendships))\n  } catch (e) {\n    console.error(\"Error saving friendships DB:\", e)\n  }\n}\n\nexport function FriendProvider({ children }: { children: React.ReactNode }) {\n  const { user } = useAuth()\n\n  const [friendRequests, setFriendRequests] = useState<FriendRequest[]>([])\n  const [friendships, setFriendships] = useState<Friendship[]>([])\n  const pollTimerRef = useRef<NodeJS.Timeout | null>(null)\n\n  // Load relevant requests and friendships for current user from global DB\n  const loadUserData = useCallback(() => {\n    if (!user) return\n\n    const allRequests = getAllRequestsFromDB()\n    const allFriendships = getAllFriendshipsFromDB()\n\n    // Filter requests relevant to this user\n    const userRequests = allRequests.filter(\n      (r) => r.fromUserId === user.id || r.toUserId === user.id\n    )\n\n    // Filter friendships relevant to this user\n    const userFriendships = allFriendships.filter(\n      (f) => f.user1Id === user.id || f.user2Id === user.id\n    )\n\n    setFriendRequests(userRequests)\n    setFriendships(userFriendships)\n\n    console.log(\"[Friend Context] Loaded data for user:\", user.id, { userRequests, userFriendships })\n  }, [user])\n\n  // Load data when user changes\n  useEffect(() => {\n    loadUserData()\n  }, [user, loadUserData])\n\n  // Poll for changes every second\n  useEffect(() => {\n    if (!user) return\n\n    pollTimerRef.current = setInterval(() => {\n      loadUserData()\n    }, POLL_INTERVAL)\n\n    return () => {\n      if (pollTimerRef.current) {\n        clearInterval(pollTimerRef.current)\n      }\n    }\n  }, [user, loadUserData])\n\n  // Listen to storage changes from other tabs\n  useEffect(() => {\n    const handleStorageChange = (e: StorageEvent) => {\n      if (e.key === GLOBAL_REQUESTS_DB || e.key === GLOBAL_FRIENDSHIPS_DB) {\n        console.log(\"[Friend Context] Storage changed in another tab:\", e.key)\n        loadUserData()\n      }\n    }\n\n    window.addEventListener(\"storage\", handleStorageChange)\n    return () => window.removeEventListener(\"storage\", handleStorageChange)\n  }, [loadUserData])\n\n  const sendFriendRequest = useCallback(\n    (toUserId: string) => {\n      if (!user) {\n        console.log(\"[Friend Context] Cannot send request - no user logged in\")\n        return\n      }\n\n      console.log(\"[Friend Context] Sending request from\", user.id, \"to\", toUserId)\n\n      const allRequests = getAllRequestsFromDB()\n\n      // Check if request already exists\n      const exists = allRequests.some(\n        (r) =>\n          (r.fromUserId === user.id && r.toUserId === toUserId) ||\n          (r.fromUserId === toUserId && r.toUserId === user.id)\n      )\n\n      if (exists) {\n        console.log(\"[Friend Context] Request already exists\")\n        return\n      }\n\n      // Check if already friends\n      const allFriendships = getAllFriendshipsFromDB()\n      const isFriends = allFriendships.some(\n        (f) =>\n          (f.user1Id === user.id && f.user2Id === toUserId) ||\n          (f.user1Id === toUserId && f.user2Id === user.id)\n      )\n\n      if (isFriends) {\n        console.log(\"[Friend Context] Already friends\")\n        return\n      }\n\n      const newRequest: FriendRequest = {\n        id: `req-${Date.now()}`,\n        fromUserId: user.id,\n        toUserId,\n        status: \"pending\",\n        createdAt: new Date(),\n      }\n\n      const updatedRequests = [...allRequests, newRequest]\n      saveRequestsToDB(updatedRequests)\n\n      // Reload local state\n      setFriendRequests((prev) => [...prev, newRequest])\n\n      console.log(\"[Friend Context] Request sent:\", newRequest)\n    },\n    [user]\n  )\n\n  const acceptFriendRequest = useCallback(\n    (requestId: string) => {\n      const allRequests = getAllRequestsFromDB()\n      const request = allRequests.find((r) => r.id === requestId)\n\n      if (!request || request.status !== \"pending\") return\n\n      // Update request status\n      const updatedRequests = allRequests.map((r) =>\n        r.id === requestId ? { ...r, status: \"accepted\" as RequestStatus } : r\n      )\n      saveRequestsToDB(updatedRequests)\n\n      // Add friendship\n      const allFriendships = getAllFriendshipsFromDB()\n      const newFriendship: Friendship = {\n        id: `friend-${Date.now()}`,\n        user1Id: request.fromUserId,\n        user2Id: request.toUserId,\n        createdAt: new Date(),\n      }\n      const updatedFriendships = [...allFriendships, newFriendship]\n      saveFriendshipsToDB(updatedFriendships)\n\n      // Reload local state\n      setFriendRequests(updatedRequests.filter((r) => r.fromUserId === user?.id || r.toUserId === user?.id))\n      setFriendships(updatedFriendships.filter((f) => f.user1Id === user?.id || f.user2Id === user?.id))\n\n      console.log(\"[Friend Context] Request accepted:\", requestId)\n    },\n    [user]\n  )\n\n  const rejectFriendRequest = useCallback(\n    (requestId: string) => {\n      const allRequests = getAllRequestsFromDB()\n      const updatedRequests = allRequests.filter((r) => r.id !== requestId)\n      saveRequestsToDB(updatedRequests)\n\n      setFriendRequests((prev) => prev.filter((r) => r.id !== requestId))\n    },\n    []\n  )\n\n  const cancelFriendRequest = useCallback(\n    (requestId: string) => {\n      const allRequests = getAllRequestsFromDB()\n      const updatedRequests = allRequests.filter((r) => r.id !== requestId)\n      saveRequestsToDB(updatedRequests)\n\n      setFriendRequests((prev) => prev.filter((r) => r.id !== requestId))\n    },\n    []\n  )\n\n  const removeFriend = useCallback(\n    (friendshipId: string) => {\n      const allFriendships = getAllFriendshipsFromDB()\n      const updatedFriendships = allFriendships.filter((f) => f.id !== friendshipId)\n      saveFriendshipsToDB(updatedFriendships)\n\n      setFriendships((prev) => prev.filter((f) => f.id !== friendshipId))\n\n      // Also remove associated request\n      const friendship = allFriendships.find((f) => f.id === friendshipId)\n      if (friendship) {\n        const allRequests = getAllRequestsFromDB()\n        const updatedRequests = allRequests.filter(\n          (r) =>\n            !(\n              (r.fromUserId === friendship.user1Id && r.toUserId === friendship.user2Id) ||\n              (r.fromUserId === friendship.user2Id && r.toUserId === friendship.user1Id)\n            )\n        )\n        saveRequestsToDB(updatedRequests)\n      }\n    },\n    []\n  )\n\n  const isFriend = useCallback(\n    (userId: string): boolean => {\n      if (!user) return false\n      return friendships.some(\n        (f) => (f.user1Id === user.id && f.user2Id === userId) || (f.user1Id === userId && f.user2Id === user.id)\n      )\n    },\n    [user, friendships]\n  )\n\n  const hasPendingRequestTo = useCallback(\n    (userId: string): boolean => {\n      if (!user) return false\n      return friendRequests.some(\n        (r) => r.fromUserId === user.id && r.toUserId === userId && r.status === \"pending\"\n      )\n    },\n    [user, friendRequests]\n  )\n\n  const hasPendingRequestFrom = useCallback(\n    (userId: string): boolean => {\n      if (!user) return false\n      return friendRequests.some(\n        (r) => r.fromUserId === userId && r.toUserId === user.id && r.status === \"pending\"\n      )\n    },\n    [user, friendRequests]\n  )\n\n  const getRequestStatus = useCallback(\n    (userId: string): \"none\" | \"sent\" | \"received\" | \"friends\" => {\n      if (isFriend(userId)) return \"friends\"\n      if (hasPendingRequestTo(userId)) return \"sent\"\n      if (hasPendingRequestFrom(userId)) return \"received\"\n      return \"none\"\n    },\n    [isFriend, hasPendingRequestTo, hasPendingRequestFrom]\n  )\n\n  const getIncomingRequests = useCallback((): FriendRequest[] => {\n    if (!user) return []\n    return friendRequests.filter((r) => r.toUserId === user.id && r.status === \"pending\")\n  }, [user, friendRequests])\n\n  const getOutgoingRequests = useCallback((): FriendRequest[] => {\n    if (!user) return []\n    return friendRequests.filter((r) => r.fromUserId === user.id && r.status === \"pending\")\n  }, [user, friendRequests])\n\n  const getFriendIds = useCallback((): string[] => {\n    if (!user) return []\n    return friendships.map((f) => (f.user1Id === user.id ? f.user2Id : f.user1Id))\n  }, [user, friendships])\n\n  const value: FriendContextType = {\n    friendRequests,\n    friendships,\n    sendFriendRequest,\n    acceptFriendRequest,\n    rejectFriendRequest,\n    cancelFriendRequest,\n    removeFriend,\n    isFriend,\n    hasPendingRequestTo,\n    hasPendingRequestFrom,\n    getRequestStatus,\n    getIncomingRequests,\n    getOutgoingRequests,\n    getFriendIds,\n  }\n\n  return <FriendContext.Provider value={value}>{children}</FriendContext.Provider>\n}\n\nexport function useFriend() {\n  const context = useContext(FriendContext)\n  if (context === undefined) {\n    throw new Error(\"useFriend must be used within a FriendProvider\")\n  }\n  return context\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1083, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Abhinay%20Chowdary/OneDrive/fsd_project/quick-chat-react-project%20%281%29/components/login-page.tsx"],"sourcesContent":["\"use client\"\n\n/**\n * QuickChat - Login Page Component\n *\n * Authentication page for existing users.\n */\n\nimport type React from \"react\"\nimport { useState } from \"react\"\nimport { MessageSquare, Mail, Lock, Eye, EyeOff } from \"lucide-react\"\nimport { useAuth } from \"@/context/auth-context\"\n\ninterface LoginPageProps {\n  onSwitchToRegister: () => void\n}\n\nexport function LoginPage({ onSwitchToRegister }: LoginPageProps) {\n  const { login, error, isLoading } = useAuth()\n\n  const [email, setEmail] = useState(\"\")\n  const [password, setPassword] = useState(\"\")\n  const [showPassword, setShowPassword] = useState(false)\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    await login(email, password)\n  }\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-[var(--color-background)] p-4\">\n      <div className=\"w-full max-w-md\">\n        {/* Logo */}\n        <div className=\"text-center mb-8\">\n          <div className=\"w-16 h-16 rounded-2xl bg-[var(--color-primary)] flex items-center justify-center mx-auto mb-4\">\n            <MessageSquare className=\"w-8 h-8 text-white\" />\n          </div>\n          <h1 className=\"text-2xl font-bold text-[var(--color-foreground)]\">Welcome back</h1>\n          <p className=\"text-[var(--color-muted)] mt-1\">Sign in to continue to QuickChat</p>\n        </div>\n\n        {/* Form */}\n        <div className=\"bg-[var(--color-card)] rounded-2xl shadow-lg p-6\">\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            {/* Email */}\n            <div>\n              <label className=\"block text-sm font-medium text-[var(--color-foreground)] mb-2\">Email</label>\n              <div className=\"relative\">\n                <Mail className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-[var(--color-muted)]\" />\n                <input\n                  type=\"email\"\n                  value={email}\n                  onChange={(e) => setEmail(e.target.value)}\n                  placeholder=\"Enter your email\"\n                  className=\"w-full pl-12 pr-4 py-3 bg-[var(--color-input)] rounded-lg text-[var(--color-foreground)] placeholder:text-[var(--color-muted)] focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)]\"\n                  required\n                />\n              </div>\n            </div>\n\n            {/* Password */}\n            <div>\n              <label className=\"block text-sm font-medium text-[var(--color-foreground)] mb-2\">Password</label>\n              <div className=\"relative\">\n                <Lock className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-[var(--color-muted)]\" />\n                <input\n                  type={showPassword ? \"text\" : \"password\"}\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                  placeholder=\"Enter your password\"\n                  className=\"w-full pl-12 pr-12 py-3 bg-[var(--color-input)] rounded-lg text-[var(--color-foreground)] placeholder:text-[var(--color-muted)] focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)]\"\n                  required\n                />\n                <button\n                  type=\"button\"\n                  onClick={() => setShowPassword(!showPassword)}\n                  className=\"absolute right-4 top-1/2 -translate-y-1/2 text-[var(--color-muted)] hover:text-[var(--color-foreground)]\"\n                >\n                  {showPassword ? <EyeOff className=\"w-5 h-5\" /> : <Eye className=\"w-5 h-5\" />}\n                </button>\n              </div>\n            </div>\n\n            {/* Error message */}\n            {error && (\n              <div className=\"p-3 rounded-lg bg-[var(--color-destructive)]/10 text-[var(--color-destructive)] text-sm\">\n                {error}\n              </div>\n            )}\n\n            {/* Demo hint */}\n            <div className=\"p-3 rounded-lg bg-[var(--color-accent)] text-sm text-[var(--color-accent-foreground)]\">\n              <p className=\"font-medium\">Demo credentials:</p>\n              <p>Email: john@example.com | Password: any 6+ chars</p>\n            </div>\n\n            {/* Submit button */}\n            <button\n              type=\"submit\"\n              disabled={isLoading}\n              className=\"w-full py-3 px-4 rounded-lg bg-[var(--color-primary)] text-white font-medium hover:bg-[var(--color-primary-hover)] transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              {isLoading ? \"Signing in...\" : \"Sign In\"}\n            </button>\n          </form>\n\n          {/* Switch to register */}\n          <div className=\"mt-6 text-center\">\n            <p className=\"text-[var(--color-muted)]\">\n              Don't have an account?{\" \"}\n              <button onClick={onSwitchToRegister} className=\"text-[var(--color-primary)] font-medium hover:underline\">\n                Sign up\n              </button>\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AASA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAXA;;;;;AAiBO,SAAS,UAAU,EAAE,kBAAkB,EAAkB;IAC9D,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,SAAS,EAAE,GAAG,IAAA,mMAAO;IAE3C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,8QAAQ,EAAC;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,8QAAQ,EAAC;IACzC,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,8QAAQ,EAAC;IAEjD,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,MAAM,MAAM,OAAO;IACrB;IAEA,qBACE,2SAAC;QAAI,WAAU;kBACb,cAAA,2SAAC;YAAI,WAAU;;8BAEb,2SAAC;oBAAI,WAAU;;sCACb,2SAAC;4BAAI,WAAU;sCACb,cAAA,2SAAC,sSAAa;gCAAC,WAAU;;;;;;;;;;;sCAE3B,2SAAC;4BAAG,WAAU;sCAAoD;;;;;;sCAClE,2SAAC;4BAAE,WAAU;sCAAiC;;;;;;;;;;;;8BAIhD,2SAAC;oBAAI,WAAU;;sCACb,2SAAC;4BAAK,UAAU;4BAAc,WAAU;;8CAEtC,2SAAC;;sDACC,2SAAC;4CAAM,WAAU;sDAAgE;;;;;;sDACjF,2SAAC;4CAAI,WAAU;;8DACb,2SAAC,uQAAI;oDAAC,WAAU;;;;;;8DAChB,2SAAC;oDACC,MAAK;oDACL,OAAO;oDACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;oDACxC,aAAY;oDACZ,WAAU;oDACV,QAAQ;;;;;;;;;;;;;;;;;;8CAMd,2SAAC;;sDACC,2SAAC;4CAAM,WAAU;sDAAgE;;;;;;sDACjF,2SAAC;4CAAI,WAAU;;8DACb,2SAAC,uQAAI;oDAAC,WAAU;;;;;;8DAChB,2SAAC;oDACC,MAAM,eAAe,SAAS;oDAC9B,OAAO;oDACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;oDAC3C,aAAY;oDACZ,WAAU;oDACV,QAAQ;;;;;;8DAEV,2SAAC;oDACC,MAAK;oDACL,SAAS,IAAM,gBAAgB,CAAC;oDAChC,WAAU;8DAET,6BAAe,2SAAC,iRAAM;wDAAC,WAAU;;;;;6EAAe,2SAAC,oQAAG;wDAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;gCAMrE,uBACC,2SAAC;oCAAI,WAAU;8CACZ;;;;;;8CAKL,2SAAC;oCAAI,WAAU;;sDACb,2SAAC;4CAAE,WAAU;sDAAc;;;;;;sDAC3B,2SAAC;sDAAE;;;;;;;;;;;;8CAIL,2SAAC;oCACC,MAAK;oCACL,UAAU;oCACV,WAAU;8CAET,YAAY,kBAAkB;;;;;;;;;;;;sCAKnC,2SAAC;4BAAI,WAAU;sCACb,cAAA,2SAAC;gCAAE,WAAU;;oCAA4B;oCAChB;kDACvB,2SAAC;wCAAO,SAAS;wCAAoB,WAAU;kDAA0D;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASvH"}},
    {"offset": {"line": 1367, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Abhinay%20Chowdary/OneDrive/fsd_project/quick-chat-react-project%20%281%29/components/register-page.tsx"],"sourcesContent":["\"use client\"\n\n/**\n * QuickChat - Register Page Component\n *\n * Registration page for new users.\n */\n\nimport type React from \"react\"\nimport { useState } from \"react\"\nimport { MessageSquare, Mail, Lock, User, Eye, EyeOff } from \"lucide-react\"\nimport { useAuth } from \"@/context/auth-context\"\n\ninterface RegisterPageProps {\n  onSwitchToLogin: () => void\n}\n\nexport function RegisterPage({ onSwitchToLogin }: RegisterPageProps) {\n  const { register, error, isLoading } = useAuth()\n\n  const [name, setName] = useState(\"\")\n  const [email, setEmail] = useState(\"\")\n  const [password, setPassword] = useState(\"\")\n  const [confirmPassword, setConfirmPassword] = useState(\"\")\n  const [showPassword, setShowPassword] = useState(false)\n  const [validationError, setValidationError] = useState(\"\")\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setValidationError(\"\")\n\n    if (password !== confirmPassword) {\n      setValidationError(\"Passwords do not match\")\n      return\n    }\n\n    if (password.length < 6) {\n      setValidationError(\"Password must be at least 6 characters\")\n      return\n    }\n\n    await register(name, email, password)\n  }\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-[var(--color-background)] p-4\">\n      <div className=\"w-full max-w-md\">\n        {/* Logo */}\n        <div className=\"text-center mb-8\">\n          <div className=\"w-16 h-16 rounded-2xl bg-[var(--color-primary)] flex items-center justify-center mx-auto mb-4\">\n            <MessageSquare className=\"w-8 h-8 text-white\" />\n          </div>\n          <h1 className=\"text-2xl font-bold text-[var(--color-foreground)]\">Create an account</h1>\n          <p className=\"text-[var(--color-muted)] mt-1\">Join QuickChat and start messaging</p>\n        </div>\n\n        {/* Form */}\n        <div className=\"bg-[var(--color-card)] rounded-2xl shadow-lg p-6\">\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            {/* Name */}\n            <div>\n              <label className=\"block text-sm font-medium text-[var(--color-foreground)] mb-2\">Full Name</label>\n              <div className=\"relative\">\n                <User className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-[var(--color-muted)]\" />\n                <input\n                  type=\"text\"\n                  value={name}\n                  onChange={(e) => setName(e.target.value)}\n                  placeholder=\"Enter your name\"\n                  className=\"w-full pl-12 pr-4 py-3 bg-[var(--color-input)] rounded-lg text-[var(--color-foreground)] placeholder:text-[var(--color-muted)] focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)]\"\n                  required\n                />\n              </div>\n            </div>\n\n            {/* Email */}\n            <div>\n              <label className=\"block text-sm font-medium text-[var(--color-foreground)] mb-2\">Email</label>\n              <div className=\"relative\">\n                <Mail className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-[var(--color-muted)]\" />\n                <input\n                  type=\"email\"\n                  value={email}\n                  onChange={(e) => setEmail(e.target.value)}\n                  placeholder=\"Enter your email\"\n                  className=\"w-full pl-12 pr-4 py-3 bg-[var(--color-input)] rounded-lg text-[var(--color-foreground)] placeholder:text-[var(--color-muted)] focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)]\"\n                  required\n                />\n              </div>\n            </div>\n\n            {/* Password */}\n            <div>\n              <label className=\"block text-sm font-medium text-[var(--color-foreground)] mb-2\">Password</label>\n              <div className=\"relative\">\n                <Lock className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-[var(--color-muted)]\" />\n                <input\n                  type={showPassword ? \"text\" : \"password\"}\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                  placeholder=\"Create a password\"\n                  className=\"w-full pl-12 pr-12 py-3 bg-[var(--color-input)] rounded-lg text-[var(--color-foreground)] placeholder:text-[var(--color-muted)] focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)]\"\n                  required\n                />\n                <button\n                  type=\"button\"\n                  onClick={() => setShowPassword(!showPassword)}\n                  className=\"absolute right-4 top-1/2 -translate-y-1/2 text-[var(--color-muted)] hover:text-[var(--color-foreground)]\"\n                >\n                  {showPassword ? <EyeOff className=\"w-5 h-5\" /> : <Eye className=\"w-5 h-5\" />}\n                </button>\n              </div>\n            </div>\n\n            {/* Confirm Password */}\n            <div>\n              <label className=\"block text-sm font-medium text-[var(--color-foreground)] mb-2\">Confirm Password</label>\n              <div className=\"relative\">\n                <Lock className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-[var(--color-muted)]\" />\n                <input\n                  type={showPassword ? \"text\" : \"password\"}\n                  value={confirmPassword}\n                  onChange={(e) => setConfirmPassword(e.target.value)}\n                  placeholder=\"Confirm your password\"\n                  className=\"w-full pl-12 pr-4 py-3 bg-[var(--color-input)] rounded-lg text-[var(--color-foreground)] placeholder:text-[var(--color-muted)] focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)]\"\n                  required\n                />\n              </div>\n            </div>\n\n            {/* Error message */}\n            {(error || validationError) && (\n              <div className=\"p-3 rounded-lg bg-[var(--color-destructive)]/10 text-[var(--color-destructive)] text-sm\">\n                {error || validationError}\n              </div>\n            )}\n\n            {/* Submit button */}\n            <button\n              type=\"submit\"\n              disabled={isLoading}\n              className=\"w-full py-3 px-4 rounded-lg bg-[var(--color-primary)] text-white font-medium hover:bg-[var(--color-primary-hover)] transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              {isLoading ? \"Creating account...\" : \"Create Account\"}\n            </button>\n          </form>\n\n          {/* Switch to login */}\n          <div className=\"mt-6 text-center\">\n            <p className=\"text-[var(--color-muted)]\">\n              Already have an account?{\" \"}\n              <button onClick={onSwitchToLogin} className=\"text-[var(--color-primary)] font-medium hover:underline\">\n                Sign in\n              </button>\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1728, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Abhinay%20Chowdary/OneDrive/fsd_project/quick-chat-react-project%20%281%29/components/user-list.tsx"],"sourcesContent":["\"use client\"\n\nimport { useChat } from \"@/context/chat-context\"\nimport { useFriend } from \"@/context/friend-context\"\nimport { UserPlus, Clock, Check, MessageSquare, X, CheckCircle } from \"lucide-react\"\nimport { useState } from \"react\"\n\ninterface UserListProps {\n  onMobileClose?: () => void\n}\n\nexport function UserList({ onMobileClose }: UserListProps) {\n  const { availableUsers, createDirectChat } = useChat()\n  const { getRequestStatus, sendFriendRequest, cancelFriendRequest, getOutgoingRequests } = useFriend()\n  const [notification, setNotification] = useState<{ message: string; type: \"success\" | \"error\" } | null>(null)\n\n  const showNotification = (message: string, type: \"success\" | \"error\" = \"success\") => {\n    setNotification({ message, type })\n    // Also show browser alert so user definitely sees it\n    alert(message)\n    setTimeout(() => setNotification(null), 5000)\n  }\n\n  const handleSendRequest = (userId: string) => {\n    const user = availableUsers.find((u) => u.id === userId)\n    sendFriendRequest(userId)\n    showNotification(`Friend request sent to ${user?.name || \"user\"}!`, \"success\")\n  }\n\n  const handleCancelRequest = (userId: string) => {\n    const outgoing = getOutgoingRequests()\n    const request = outgoing.find((r) => r.toUserId === userId)\n    if (request) {\n      cancelFriendRequest(request.id)\n      showNotification(\"Friend request cancelled\", \"success\")\n    }\n  }\n\n  const handleStartChat = (userId: string) => {\n    createDirectChat(userId)\n    onMobileClose?.()\n  }\n\n  // Group users by online status\n  const onlineUsers = availableUsers.filter((u) => u.status === \"online\")\n  const offlineUsers = availableUsers.filter((u) => u.status !== \"online\")\n\n  const renderUserAction = (userId: string) => {\n    const status = getRequestStatus(userId)\n\n    switch (status) {\n      case \"friends\":\n        return (\n          <button\n            onClick={() => handleStartChat(userId)}\n            className=\"flex items-center gap-1.5 px-3 py-1.5 bg-[var(--color-primary)] text-white rounded-full text-xs font-medium hover:bg-[var(--color-primary-hover)] transition-colors\"\n          >\n            <MessageSquare className=\"w-3.5 h-3.5\" />\n            Chat\n          </button>\n        )\n      case \"sent\":\n        return (\n          <button\n            onClick={() => handleCancelRequest(userId)}\n            className=\"flex items-center gap-1.5 px-3 py-1.5 bg-[var(--color-muted)] text-[var(--color-muted-foreground)] rounded-full text-xs font-medium hover:bg-red-100 hover:text-red-600 transition-colors group\"\n          >\n            <Clock className=\"w-3.5 h-3.5 group-hover:hidden\" />\n            <X className=\"w-3.5 h-3.5 hidden group-hover:block\" />\n            <span className=\"group-hover:hidden\">Pending</span>\n            <span className=\"hidden group-hover:block\">Cancel</span>\n          </button>\n        )\n      case \"received\":\n        return (\n          <span className=\"flex items-center gap-1.5 px-3 py-1.5 bg-[var(--color-accent)] text-[var(--color-primary)] rounded-full text-xs font-medium\">\n            <Check className=\"w-3.5 h-3.5\" />\n            Respond in Requests\n          </span>\n        )\n      default:\n        return (\n          <button\n            onClick={() => handleSendRequest(userId)}\n            className=\"flex items-center gap-1.5 px-3 py-1.5 bg-[var(--color-secondary)] text-[var(--color-foreground)] rounded-full text-xs font-medium hover:bg-[var(--color-primary)] hover:text-white transition-colors\"\n          >\n            <UserPlus className=\"w-3.5 h-3.5\" />\n            Add Friend\n          </button>\n        )\n    }\n  }\n\n  const renderUserSection = (users: typeof availableUsers, title: string, isOnline: boolean) => {\n    if (users.length === 0) return null\n\n    return (\n      <div>\n        <div className=\"px-4 py-2 bg-[var(--color-secondary)]\">\n          <h4 className=\"text-xs font-semibold text-[var(--color-muted)] uppercase tracking-wide\">\n            {title}  {users.length}\n          </h4>\n        </div>\n        {users.map((user) => (\n          <div\n            key={user.id}\n            className=\"w-full p-3 flex items-center gap-3 hover:bg-[var(--color-secondary)] transition-colors\"\n          >\n            <div className=\"relative\">\n              <img\n                src={user.avatar || \"/placeholder.svg\"}\n                alt={user.name}\n                className=\"w-10 h-10 rounded-full object-cover\"\n              />\n              <span\n                className={`absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-white ${\n                  isOnline ? \"bg-[var(--color-online)]\" : \"bg-[var(--color-offline)]\"\n                }`}\n              />\n            </div>\n            <div className=\"flex-1 text-left\">\n              <h3 className=\"font-medium text-[var(--color-foreground)]\">{user.name}</h3>\n              <p className={`text-xs ${isOnline ? \"text-[var(--color-online)]\" : \"text-[var(--color-muted)]\"}`}>\n                {isOnline ? \"Online\" : user.lastSeen ? `Last seen ${user.lastSeen}` : \"Offline\"}\n              </p>\n            </div>\n            {renderUserAction(user.id)}\n          </div>\n        ))}\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"divide-y divide-[var(--color-border)]\">\n      {notification && (\n        <div\n          className={`p-3 flex items-center gap-2 ${\n            notification.type === \"success\" ? \"bg-green-100 text-green-800\" : \"bg-red-100 text-red-800\"\n          }`}\n        >\n          <CheckCircle className=\"w-5 h-5\" />\n          <span className=\"font-medium\">{notification.message}</span>\n        </div>\n      )}\n\n      {availableUsers.length === 0 ? (\n        <div className=\"p-8 text-center text-[var(--color-muted)]\">\n          <UserPlus className=\"w-12 h-12 mx-auto mb-3 opacity-50\" />\n          <p>No users found</p>\n          <p className=\"text-sm mt-1\">Invite friends to join!</p>\n        </div>\n      ) : (\n        <>\n          {renderUserSection(onlineUsers, \"Online\", true)}\n          {renderUserSection(offlineUsers, \"Offline\", false)}\n        </>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2047, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Abhinay%20Chowdary/OneDrive/fsd_project/quick-chat-react-project%20%281%29/components/friend-requests.tsx"],"sourcesContent":["\"use client\"\n\n/**\n * QuickChat - Friend Requests Component\n *\n * Displays incoming and outgoing friend requests with accept/reject actions.\n */\n\nimport { useFriend } from \"@/context/friend-context\"\nimport { useChat } from \"@/context/chat-context\"\nimport { useAuth } from \"@/context/auth-context\"\nimport { Check, X, Clock, UserPlus, Send } from \"lucide-react\"\nimport { useEffect, useState } from \"react\"\nimport { getAllUsers, type User } from \"@/utils/dummy-users\"\n\ninterface FriendRequestsProps {\n  onMobileClose?: () => void\n}\n\nexport function FriendRequests({ onMobileClose }: FriendRequestsProps) {\n  const { user } = useAuth()\n  const {\n    getIncomingRequests,\n    getOutgoingRequests,\n    acceptFriendRequest,\n    rejectFriendRequest,\n    cancelFriendRequest,\n    friendRequests,\n  } = useFriend()\n  const { availableUsers } = useChat()\n\n  const [allUsers, setAllUsers] = useState<User[]>([])\n\n  useEffect(() => {\n    // Refresh users list every second to ensure we have latest registered users\n    const refreshUsers = () => {\n      setAllUsers(getAllUsers())\n    }\n    refreshUsers()\n    const interval = setInterval(refreshUsers, 1000)\n    return () => clearInterval(interval)\n  }, [])\n\n  const incomingRequests = getIncomingRequests()\n  const outgoingRequests = getOutgoingRequests()\n\n  const getUserById = (userId: string) => {\n    // First check allUsers, then fall back to availableUsers\n    return allUsers.find((u) => u.id === userId) || availableUsers.find((u) => u.id === userId)\n  }\n\n  const handleAccept = (requestId: string) => {\n    acceptFriendRequest(requestId)\n  }\n\n  const handleReject = (requestId: string) => {\n    rejectFriendRequest(requestId)\n  }\n\n  const handleCancel = (requestId: string) => {\n    cancelFriendRequest(requestId)\n  }\n\n  if (incomingRequests.length === 0 && outgoingRequests.length === 0) {\n    return (\n      <div className=\"p-8 text-center text-[var(--color-muted)]\">\n        <UserPlus className=\"w-12 h-12 mx-auto mb-3 opacity-50\" />\n        <p>No friend requests</p>\n        <p className=\"text-sm mt-1\">Send requests from the Users tab</p>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"divide-y divide-[var(--color-border)]\">\n      {/* Incoming Requests */}\n      {incomingRequests.length > 0 && (\n        <div>\n          <div className=\"px-4 py-2 bg-[var(--color-secondary)]\">\n            <h4 className=\"text-xs font-semibold text-[var(--color-muted)] uppercase tracking-wide flex items-center gap-2\">\n              <UserPlus className=\"w-3.5 h-3.5\" />\n              Incoming Requests  {incomingRequests.length}\n            </h4>\n          </div>\n          {incomingRequests.map((request) => {\n            const fromUser = getUserById(request.fromUserId)\n\n            return (\n              <div\n                key={request.id}\n                className=\"p-3 flex items-center gap-3 hover:bg-[var(--color-secondary)] transition-colors\"\n              >\n                <div className=\"relative\">\n                  <img\n                    src={fromUser?.avatar || \"/placeholder.svg?height=40&width=40&query=user avatar\"}\n                    alt={fromUser?.name || \"User\"}\n                    className=\"w-10 h-10 rounded-full object-cover\"\n                  />\n                  <span\n                    className={`absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-white ${\n                      fromUser?.status === \"online\" ? \"bg-[var(--color-online)]\" : \"bg-[var(--color-offline)]\"\n                    }`}\n                  />\n                </div>\n                <div className=\"flex-1\">\n                  <h3 className=\"font-medium text-[var(--color-foreground)]\">{fromUser?.name || \"Unknown User\"}</h3>\n                  <p className=\"text-xs text-[var(--color-muted)]\">Wants to connect with you</p>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <button\n                    onClick={() => handleAccept(request.id)}\n                    className=\"p-2 bg-[var(--color-primary)] text-white rounded-full hover:bg-[var(--color-primary-hover)] transition-colors\"\n                    title=\"Accept\"\n                  >\n                    <Check className=\"w-4 h-4\" />\n                  </button>\n                  <button\n                    onClick={() => handleReject(request.id)}\n                    className=\"p-2 bg-[var(--color-muted)] text-[var(--color-muted-foreground)] rounded-full hover:bg-red-100 hover:text-red-600 transition-colors\"\n                    title=\"Reject\"\n                  >\n                    <X className=\"w-4 h-4\" />\n                  </button>\n                </div>\n              </div>\n            )\n          })}\n        </div>\n      )}\n\n      {/* Outgoing Requests */}\n      {outgoingRequests.length > 0 && (\n        <div>\n          <div className=\"px-4 py-2 bg-[var(--color-secondary)]\">\n            <h4 className=\"text-xs font-semibold text-[var(--color-muted)] uppercase tracking-wide flex items-center gap-2\">\n              <Send className=\"w-3.5 h-3.5\" />\n              Sent Requests  {outgoingRequests.length}\n            </h4>\n          </div>\n          {outgoingRequests.map((request) => {\n            const toUser = getUserById(request.toUserId)\n\n            return (\n              <div\n                key={request.id}\n                className=\"p-3 flex items-center gap-3 hover:bg-[var(--color-secondary)] transition-colors\"\n              >\n                <div className=\"relative\">\n                  <img\n                    src={toUser?.avatar || \"/placeholder.svg?height=40&width=40&query=user avatar\"}\n                    alt={toUser?.name || \"User\"}\n                    className=\"w-10 h-10 rounded-full object-cover\"\n                  />\n                  <span\n                    className={`absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-white ${\n                      toUser?.status === \"online\" ? \"bg-[var(--color-online)]\" : \"bg-[var(--color-offline)]\"\n                    }`}\n                  />\n                </div>\n                <div className=\"flex-1\">\n                  <h3 className=\"font-medium text-[var(--color-foreground)]\">{toUser?.name || \"Unknown User\"}</h3>\n                  <p className=\"text-xs text-[var(--color-muted)] flex items-center gap-1\">\n                    <Clock className=\"w-3 h-3\" />\n                    Awaiting response\n                  </p>\n                </div>\n                <button\n                  onClick={() => handleCancel(request.id)}\n                  className=\"flex items-center gap-1.5 px-3 py-1.5 bg-[var(--color-muted)] text-[var(--color-muted-foreground)] rounded-full text-xs font-medium hover:bg-red-100 hover:text-red-600 transition-colors\"\n                >\n                  <X className=\"w-3.5 h-3.5\" />\n                  Cancel\n                </button>\n              </div>\n            )\n          })}\n        </div>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2408, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Abhinay%20Chowdary/OneDrive/fsd_project/quick-chat-react-project%20%281%29/components/group-creation-modal.tsx"],"sourcesContent":["\"use client\"\n\n/**\n * QuickChat - Group Creation Modal\n *\n * Modal dialog for creating new group chats with selected participants.\n * Only shows friends (users who have accepted friend requests).\n */\n\nimport { useState } from \"react\"\nimport { X, Check, Users, UserPlus } from \"lucide-react\"\nimport { useChat } from \"@/context/chat-context\"\nimport { useFriend } from \"@/context/friend-context\"\n\ninterface GroupCreationModalProps {\n  isOpen: boolean\n  onClose: () => void\n}\n\nexport function GroupCreationModal({ isOpen, onClose }: GroupCreationModalProps) {\n  const { availableUsers, createGroupChat } = useChat()\n  const { isFriend } = useFriend()\n\n  const [groupName, setGroupName] = useState(\"\")\n  const [selectedUsers, setSelectedUsers] = useState<string[]>([])\n\n  const friendUsers = availableUsers.filter((user) => isFriend(user.id))\n\n  const handleToggleUser = (userId: string) => {\n    setSelectedUsers((prev) => (prev.includes(userId) ? prev.filter((id) => id !== userId) : [...prev, userId]))\n  }\n\n  const handleCreate = () => {\n    if (groupName.trim() && selectedUsers.length >= 1) {\n      createGroupChat(groupName.trim(), selectedUsers)\n      handleClose()\n    }\n  }\n\n  const handleClose = () => {\n    setGroupName(\"\")\n    setSelectedUsers([])\n    onClose()\n  }\n\n  if (!isOpen) return null\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-[var(--color-card)] rounded-2xl w-full max-w-md shadow-xl\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between p-4 border-b border-[var(--color-border)]\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-10 h-10 rounded-full bg-[var(--color-primary)] flex items-center justify-center\">\n              <Users className=\"w-5 h-5 text-white\" />\n            </div>\n            <h2 className=\"text-lg font-semibold text-[var(--color-foreground)]\">New Group</h2>\n          </div>\n          <button\n            onClick={handleClose}\n            className=\"p-2 rounded-full hover:bg-[var(--color-secondary)] transition-colors\"\n          >\n            <X className=\"w-5 h-5 text-[var(--color-muted-foreground)]\" />\n          </button>\n        </div>\n\n        {/* Content */}\n        <div className=\"p-4\">\n          {/* Group Name Input */}\n          <div className=\"mb-4\">\n            <label className=\"block text-sm font-medium text-[var(--color-foreground)] mb-2\">Group Name</label>\n            <input\n              type=\"text\"\n              value={groupName}\n              onChange={(e) => setGroupName(e.target.value)}\n              placeholder=\"Enter group name...\"\n              className=\"w-full px-4 py-3 bg-[var(--color-input)] rounded-lg text-[var(--color-foreground)] placeholder:text-[var(--color-muted)] focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)]\"\n            />\n          </div>\n\n          {/* User Selection - Only Friends */}\n          <div>\n            <label className=\"block text-sm font-medium text-[var(--color-foreground)] mb-2\">\n              Add Friends ({selectedUsers.length} selected)\n            </label>\n            <div className=\"max-h-60 overflow-y-auto custom-scrollbar border border-[var(--color-border)] rounded-lg\">\n              {friendUsers.length === 0 ? (\n                <div className=\"p-6 text-center text-[var(--color-muted)]\">\n                  <UserPlus className=\"w-10 h-10 mx-auto mb-2 opacity-50\" />\n                  <p className=\"font-medium\">No friends yet</p>\n                  <p className=\"text-sm mt-1\">Add friends from the Users tab first</p>\n                </div>\n              ) : (\n                friendUsers.map((user) => {\n                  const isSelected = selectedUsers.includes(user.id)\n\n                  return (\n                    <button\n                      key={user.id}\n                      onClick={() => handleToggleUser(user.id)}\n                      className={`w-full p-3 flex items-center gap-3 hover:bg-[var(--color-secondary)] transition-colors ${\n                        isSelected ? \"bg-[var(--color-accent)]\" : \"\"\n                      }`}\n                    >\n                      <img\n                        src={user.avatar || \"/placeholder.svg\"}\n                        alt={user.name}\n                        className=\"w-10 h-10 rounded-full object-cover\"\n                      />\n                      <span className=\"flex-1 text-left font-medium text-[var(--color-foreground)]\">{user.name}</span>\n                      <div\n                        className={`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-colors ${\n                          isSelected\n                            ? \"bg-[var(--color-primary)] border-[var(--color-primary)]\"\n                            : \"border-[var(--color-border)]\"\n                        }`}\n                      >\n                        {isSelected && <Check className=\"w-4 h-4 text-white\" />}\n                      </div>\n                    </button>\n                  )\n                })\n              )}\n            </div>\n          </div>\n        </div>\n\n        {/* Footer */}\n        <div className=\"flex gap-3 p-4 border-t border-[var(--color-border)]\">\n          <button\n            onClick={handleClose}\n            className=\"flex-1 py-3 px-4 rounded-lg border border-[var(--color-border)] font-medium text-[var(--color-foreground)] hover:bg-[var(--color-secondary)] transition-colors\"\n          >\n            Cancel\n          </button>\n          <button\n            onClick={handleCreate}\n            disabled={!groupName.trim() || selectedUsers.length < 1 || friendUsers.length === 0}\n            className=\"flex-1 py-3 px-4 rounded-lg bg-[var(--color-primary)] font-medium text-white hover:bg-[var(--color-primary-hover)] transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            Create Group\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2698, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Abhinay%20Chowdary/OneDrive/fsd_project/quick-chat-react-project%20%281%29/components/sidebar.tsx"],"sourcesContent":["\"use client\"\n\n/**\n * QuickChat - Sidebar Component\n *\n * Main navigation sidebar showing chat list, user profile,\n * and actions for creating new chats.\n */\n\nimport { useState } from \"react\"\nimport { Search, Plus, LogOut, Users, MessageSquare, UserPlus } from \"lucide-react\"\nimport { useAuth } from \"@/context/auth-context\"\nimport { useChat } from \"@/context/chat-context\"\nimport { useSocket } from \"@/context/socket-context\"\nimport { useFriend } from \"@/context/friend-context\"\nimport { formatDistanceToNow } from \"date-fns\"\nimport { UserList } from \"./user-list\"\nimport { FriendRequests } from \"./friend-requests\"\nimport { GroupCreationModal } from \"./group-creation-modal\"\n\ninterface SidebarProps {\n  onMobileClose?: () => void\n}\n\nexport function Sidebar({ onMobileClose }: SidebarProps) {\n  const { user, logout } = useAuth()\n  const { chats, selectedChat, selectChat, getChatName, getChatAvatar, getOtherParticipant } = useChat()\n  const { isConnected } = useSocket()\n  const { getIncomingRequests } = useFriend()\n\n  const [searchQuery, setSearchQuery] = useState(\"\")\n  const [activeTab, setActiveTab] = useState<\"chats\" | \"users\" | \"requests\">(\"chats\")\n  const [showGroupModal, setShowGroupModal] = useState(false)\n\n  // Get incoming requests count for badge\n  const incomingRequestsCount = getIncomingRequests().length\n\n  // Filter chats based on search query\n  const filteredChats = chats.filter((chat) => getChatName(chat).toLowerCase().includes(searchQuery.toLowerCase()))\n\n  // Sort chats by last message timestamp\n  const sortedChats = [...filteredChats].sort((a, b) => {\n    const aTime = a.lastMessage?.timestamp || a.createdAt\n    const bTime = b.lastMessage?.timestamp || b.createdAt\n    return new Date(bTime).getTime() - new Date(aTime).getTime()\n  })\n\n  const handleChatSelect = (chatId: string) => {\n    selectChat(chatId)\n    onMobileClose?.()\n  }\n\n  return (\n    <div className=\"flex flex-col h-full bg-[var(--color-sidebar)] border-r border-[var(--color-border)]\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between p-4 border-b border-[var(--color-border)]\">\n        <div className=\"flex items-center gap-3\">\n          <div className=\"relative\">\n            <img\n              src={user?.avatar || \"/placeholder.svg\"}\n              alt={user?.name}\n              className=\"w-10 h-10 rounded-full object-cover\"\n            />\n            <span\n              className={`absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-white ${\n                isConnected ? \"bg-[var(--color-online)]\" : \"bg-[var(--color-offline)]\"\n              }`}\n            />\n          </div>\n          <div>\n            <h2 className=\"font-semibold text-[var(--color-foreground)]\">{user?.name}</h2>\n            <p className=\"text-xs text-[var(--color-muted)]\">{isConnected ? \"Online\" : \"Connecting...\"}</p>\n          </div>\n        </div>\n\n        <div className=\"flex items-center gap-2\">\n          <button\n            onClick={() => setShowGroupModal(true)}\n            className=\"p-2 rounded-full hover:bg-[var(--color-secondary)] transition-colors\"\n            title=\"New Group\"\n          >\n            <Plus className=\"w-5 h-5 text-[var(--color-muted-foreground)]\" />\n          </button>\n          <button\n            onClick={logout}\n            className=\"p-2 rounded-full hover:bg-[var(--color-secondary)] transition-colors\"\n            title=\"Logout\"\n          >\n            <LogOut className=\"w-5 h-5 text-[var(--color-muted-foreground)]\" />\n          </button>\n        </div>\n      </div>\n\n      {/* Search */}\n      <div className=\"p-3\">\n        <div className=\"relative\">\n          <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-[var(--color-muted)]\" />\n          <input\n            type=\"text\"\n            placeholder=\"Search or start new chat\"\n            value={searchQuery}\n            onChange={(e) => setSearchQuery(e.target.value)}\n            className=\"w-full pl-10 pr-4 py-2 bg-[var(--color-input)] rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)] text-[var(--color-foreground)] placeholder:text-[var(--color-muted)]\"\n          />\n        </div>\n      </div>\n\n      <div className=\"flex border-b border-[var(--color-border)]\">\n        <button\n          onClick={() => setActiveTab(\"chats\")}\n          className={`flex-1 py-3 text-sm font-medium flex items-center justify-center gap-2 transition-colors ${\n            activeTab === \"chats\"\n              ? \"text-[var(--color-primary)] border-b-2 border-[var(--color-primary)]\"\n              : \"text-[var(--color-muted-foreground)] hover:text-[var(--color-foreground)]\"\n          }`}\n        >\n          <MessageSquare className=\"w-4 h-4\" />\n          Chats\n        </button>\n        <button\n          onClick={() => setActiveTab(\"users\")}\n          className={`flex-1 py-3 text-sm font-medium flex items-center justify-center gap-2 transition-colors ${\n            activeTab === \"users\"\n              ? \"text-[var(--color-primary)] border-b-2 border-[var(--color-primary)]\"\n              : \"text-[var(--color-muted-foreground)] hover:text-[var(--color-foreground)]\"\n          }`}\n        >\n          <Users className=\"w-4 h-4\" />\n          Users\n        </button>\n        <button\n          onClick={() => setActiveTab(\"requests\")}\n          className={`flex-1 py-3 text-sm font-medium flex items-center justify-center gap-2 transition-colors relative ${\n            activeTab === \"requests\"\n              ? \"text-[var(--color-primary)] border-b-2 border-[var(--color-primary)]\"\n              : \"text-[var(--color-muted-foreground)] hover:text-[var(--color-foreground)]\"\n          }`}\n        >\n          <UserPlus className=\"w-4 h-4\" />\n          Requests\n          {incomingRequestsCount > 0 && (\n            <span className=\"absolute top-2 right-2 w-5 h-5 flex items-center justify-center text-xs font-bold text-white bg-red-500 rounded-full\">\n              {incomingRequestsCount}\n            </span>\n          )}\n        </button>\n      </div>\n\n      {/* Content */}\n      <div className=\"flex-1 overflow-y-auto custom-scrollbar\">\n        {activeTab === \"chats\" ? (\n          <div className=\"divide-y divide-[var(--color-border)]\">\n            {sortedChats.length === 0 ? (\n              <div className=\"p-8 text-center text-[var(--color-muted)]\">\n                <MessageSquare className=\"w-12 h-12 mx-auto mb-3 opacity-50\" />\n                <p>No chats found</p>\n                <p className=\"text-sm mt-1\">Add friends to start chatting!</p>\n              </div>\n            ) : (\n              sortedChats.map((chat) => {\n                const otherUser = getOtherParticipant(chat)\n                const isSelected = selectedChat?.id === chat.id\n\n                return (\n                  <button\n                    key={chat.id}\n                    onClick={() => handleChatSelect(chat.id)}\n                    className={`w-full p-3 flex items-center gap-3 hover:bg-[var(--color-secondary)] transition-colors ${\n                      isSelected ? \"bg-[var(--color-accent)]\" : \"\"\n                    }`}\n                  >\n                    <div className=\"relative flex-shrink-0\">\n                      <img\n                        src={getChatAvatar(chat) || \"/placeholder.svg\"}\n                        alt={getChatName(chat)}\n                        className=\"w-12 h-12 rounded-full object-cover\"\n                      />\n                      {chat.type === \"direct\" && otherUser && (\n                        <span\n                          className={`absolute bottom-0 right-0 w-3.5 h-3.5 rounded-full border-2 border-white ${\n                            otherUser.status === \"online\" ? \"bg-[var(--color-online)]\" : \"bg-[var(--color-offline)]\"\n                          }`}\n                        />\n                      )}\n                      {chat.type === \"group\" && (\n                        <span className=\"absolute -bottom-1 -right-1 w-5 h-5 rounded-full bg-[var(--color-primary)] flex items-center justify-center\">\n                          <Users className=\"w-3 h-3 text-white\" />\n                        </span>\n                      )}\n                    </div>\n\n                    <div className=\"flex-1 min-w-0 text-left\">\n                      <div className=\"flex items-center justify-between\">\n                        <h3 className=\"font-medium text-[var(--color-foreground)] truncate\">{getChatName(chat)}</h3>\n                        {chat.lastMessage && (\n                          <span className=\"text-xs text-[var(--color-muted)]\">\n                            {formatDistanceToNow(new Date(chat.lastMessage.timestamp), {\n                              addSuffix: false,\n                            })}\n                          </span>\n                        )}\n                      </div>\n\n                      <div className=\"flex items-center justify-between mt-0.5\">\n                        <p className=\"text-sm text-[var(--color-muted-foreground)] truncate\">\n                          {chat.lastMessage?.content || \"No messages yet\"}\n                        </p>\n                        {chat.unreadCount > 0 && (\n                          <span className=\"ml-2 px-2 py-0.5 text-xs font-medium text-white bg-[var(--color-primary)] rounded-full\">\n                            {chat.unreadCount}\n                          </span>\n                        )}\n                      </div>\n                    </div>\n                  </button>\n                )\n              })\n            )}\n          </div>\n        ) : activeTab === \"users\" ? (\n          <UserList onMobileClose={onMobileClose} />\n        ) : (\n          <FriendRequests onMobileClose={onMobileClose} />\n        )}\n      </div>\n\n      {/* Group Creation Modal */}\n      <GroupCreationModal isOpen={showGroupModal} onClose={() => setShowGroupModal(false)} />\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3164, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Abhinay%20Chowdary/OneDrive/fsd_project/quick-chat-react-project%20%281%29/components/chat-header.tsx"],"sourcesContent":["\"use client\"\nimport { ArrowLeft, Phone, Video, MoreVertical, Users } from \"lucide-react\"\nimport { useChat } from \"@/context/chat-context\"\nimport { dummyUsers } from \"@/utils/dummy-users\"\n\ninterface ChatHeaderProps {\n  onBackClick?: () => void\n}\n\nexport function ChatHeader({ onBackClick }: ChatHeaderProps) {\n  const { selectedChat, getChatName, getChatAvatar, getOtherParticipant, typingUsers } = useChat()\n\n  if (!selectedChat) return null\n\n  const otherUser = getOtherParticipant(selectedChat)\n  const chatTypingUsers = typingUsers[selectedChat.id] || []\n  const isTyping = chatTypingUsers.length > 0\n\n  // Get participant names for group chats\n  const getParticipantNames = () => {\n    if (selectedChat.type !== \"group\") return \"\"\n\n    return selectedChat.participants.map((id) => dummyUsers.find((u) => u.id === id)?.name || \"Unknown\").join(\", \")\n  }\n\n  // Get typing indicator text\n  const getTypingText = () => {\n    if (!isTyping) return null\n\n    const typingNames = chatTypingUsers.map((id) => dummyUsers.find((u) => u.id === id)?.name || \"Someone\").join(\", \")\n\n    return `${typingNames} is typing...`\n  }\n\n  return (\n    <div className=\"flex items-center justify-between px-4 py-3 bg-[var(--color-card)] border-b border-[var(--color-border)]\">\n      <div className=\"flex items-center gap-3\">\n        {/* Back button for mobile */}\n        <button\n          onClick={onBackClick}\n          className=\"p-2 rounded-full hover:bg-[var(--color-secondary)] transition-colors md:hidden\"\n        >\n          <ArrowLeft className=\"w-5 h-5 text-[var(--color-muted-foreground)]\" />\n        </button>\n\n        {/* Avatar */}\n        <div className=\"relative\">\n          <img\n            src={getChatAvatar(selectedChat) || \"/placeholder.svg\"}\n            alt={getChatName(selectedChat)}\n            className=\"w-10 h-10 rounded-full object-cover\"\n          />\n          {selectedChat.type === \"direct\" && otherUser && (\n            <span\n              className={`absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-[var(--color-card)] ${\n                otherUser.status === \"online\" ? \"bg-[var(--color-online)]\" : \"bg-[var(--color-offline)]\"\n              }`}\n            />\n          )}\n          {selectedChat.type === \"group\" && (\n            <span className=\"absolute -bottom-1 -right-1 w-5 h-5 rounded-full bg-[var(--color-primary)] flex items-center justify-center\">\n              <Users className=\"w-3 h-3 text-white\" />\n            </span>\n          )}\n        </div>\n\n        {/* Info */}\n        <div>\n          <h2 className=\"font-semibold text-[var(--color-foreground)]\">{getChatName(selectedChat)}</h2>\n          <p className=\"text-xs text-[var(--color-muted)]\">\n            {isTyping ? (\n              <span className=\"text-[var(--color-primary)] flex items-center gap-1\">\n                {getTypingText()}\n                <span className=\"flex gap-0.5\">\n                  <span className=\"typing-dot w-1 h-1 rounded-full bg-[var(--color-primary)]\" />\n                  <span className=\"typing-dot w-1 h-1 rounded-full bg-[var(--color-primary)]\" />\n                  <span className=\"typing-dot w-1 h-1 rounded-full bg-[var(--color-primary)]\" />\n                </span>\n              </span>\n            ) : selectedChat.type === \"direct\" ? (\n              otherUser?.status === \"online\" ? (\n                \"Online\"\n              ) : (\n                `Last seen ${otherUser?.lastSeen || \"recently\"}`\n              )\n            ) : (\n              <span className=\"truncate max-w-[200px] inline-block\">{getParticipantNames()}</span>\n            )}\n          </p>\n        </div>\n      </div>\n\n      {/* Actions */}\n      <div className=\"flex items-center gap-1\">\n        <button className=\"p-2 rounded-full hover:bg-[var(--color-secondary)] transition-colors\">\n          <Video className=\"w-5 h-5 text-[var(--color-muted-foreground)]\" />\n        </button>\n        <button className=\"p-2 rounded-full hover:bg-[var(--color-secondary)] transition-colors\">\n          <Phone className=\"w-5 h-5 text-[var(--color-muted-foreground)]\" />\n        </button>\n        <button className=\"p-2 rounded-full hover:bg-[var(--color-secondary)] transition-colors\">\n          <MoreVertical className=\"w-5 h-5 text-[var(--color-muted-foreground)]\" />\n        </button>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAHA;;;;;AASO,SAAS,WAAW,EAAE,WAAW,EAAmB;IACzD,MAAM,EAAE,YAAY,EAAE,WAAW,EAAE,aAAa,EAAE,mBAAmB,EAAE,WAAW,EAAE,GAAG,IAAA,mMAAO;IAE9F,IAAI,CAAC,cAAc,OAAO;IAE1B,MAAM,YAAY,oBAAoB;IACtC,MAAM,kBAAkB,WAAW,CAAC,aAAa,EAAE,CAAC,IAAI,EAAE;IAC1D,MAAM,WAAW,gBAAgB,MAAM,GAAG;IAE1C,wCAAwC;IACxC,MAAM,sBAAsB;QAC1B,IAAI,aAAa,IAAI,KAAK,SAAS,OAAO;QAE1C,OAAO,aAAa,YAAY,CAAC,GAAG,CAAC,CAAC,KAAO,kMAAU,CAAC,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,KAAK,QAAQ,WAAW,IAAI,CAAC;IAC5G;IAEA,4BAA4B;IAC5B,MAAM,gBAAgB;QACpB,IAAI,CAAC,UAAU,OAAO;QAEtB,MAAM,cAAc,gBAAgB,GAAG,CAAC,CAAC,KAAO,kMAAU,CAAC,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,KAAK,QAAQ,WAAW,IAAI,CAAC;QAE7G,OAAO,GAAG,YAAY,aAAa,CAAC;IACtC;IAEA,qBACE,2SAAC;QAAI,WAAU;;0BACb,2SAAC;gBAAI,WAAU;;kCAEb,2SAAC;wBACC,SAAS;wBACT,WAAU;kCAEV,cAAA,2SAAC,0RAAS;4BAAC,WAAU;;;;;;;;;;;kCAIvB,2SAAC;wBAAI,WAAU;;0CACb,2SAAC;gCACC,KAAK,cAAc,iBAAiB;gCACpC,KAAK,YAAY;gCACjB,WAAU;;;;;;4BAEX,aAAa,IAAI,KAAK,YAAY,2BACjC,2SAAC;gCACC,WAAW,CAAC,mFAAmF,EAC7F,UAAU,MAAM,KAAK,WAAW,6BAA6B,6BAC7D;;;;;;4BAGL,aAAa,IAAI,KAAK,yBACrB,2SAAC;gCAAK,WAAU;0CACd,cAAA,2SAAC,0QAAK;oCAAC,WAAU;;;;;;;;;;;;;;;;;kCAMvB,2SAAC;;0CACC,2SAAC;gCAAG,WAAU;0CAAgD,YAAY;;;;;;0CAC1E,2SAAC;gCAAE,WAAU;0CACV,yBACC,2SAAC;oCAAK,WAAU;;wCACb;sDACD,2SAAC;4CAAK,WAAU;;8DACd,2SAAC;oDAAK,WAAU;;;;;;8DAChB,2SAAC;oDAAK,WAAU;;;;;;8DAChB,2SAAC;oDAAK,WAAU;;;;;;;;;;;;;;;;;2CAGlB,aAAa,IAAI,KAAK,WACxB,WAAW,WAAW,WACpB,WAEA,CAAC,UAAU,EAAE,WAAW,YAAY,YAAY,iBAGlD,2SAAC;oCAAK,WAAU;8CAAuC;;;;;;;;;;;;;;;;;;;;;;;0BAO/D,2SAAC;gBAAI,WAAU;;kCACb,2SAAC;wBAAO,WAAU;kCAChB,cAAA,2SAAC,0QAAK;4BAAC,WAAU;;;;;;;;;;;kCAEnB,2SAAC;wBAAO,WAAU;kCAChB,cAAA,2SAAC,0QAAK;4BAAC,WAAU;;;;;;;;;;;kCAEnB,2SAAC;wBAAO,WAAU;kCAChB,cAAA,2SAAC,uSAAY;4BAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;AAKlC"}},
    {"offset": {"line": 3396, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Abhinay%20Chowdary/OneDrive/fsd_project/quick-chat-react-project%20%281%29/components/message-list.tsx"],"sourcesContent":["\"use client\"\n\n/**\n * QuickChat - Message List Component\n *\n * Displays messages in a chat with proper styling for sent/received messages.\n * Features auto-scroll and message status indicators.\n */\n\nimport { useEffect, useRef } from \"react\"\nimport { Check, CheckCheck } from \"lucide-react\"\nimport { useChat } from \"@/context/chat-context\"\nimport { useAuth } from \"@/context/auth-context\"\nimport { dummyUsers } from \"@/utils/dummy-users\"\nimport { format, isToday, isYesterday } from \"date-fns\"\n\nexport function MessageList() {\n  const { selectedChat, messages } = useChat()\n  const { user } = useAuth()\n  const messagesEndRef = useRef<HTMLDivElement>(null)\n\n  // Filter messages for selected chat\n  const chatMessages = messages.filter((msg) => msg.chatId === selectedChat?.id)\n\n  // Auto-scroll to bottom when new messages arrive\n  useEffect(() => {\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" })\n  }, [chatMessages.length])\n\n  // Format timestamp\n  const formatTime = (date: Date) => {\n    return format(new Date(date), \"HH:mm\")\n  }\n\n  // Format date separator\n  const formatDateSeparator = (date: Date) => {\n    const d = new Date(date)\n    if (isToday(d)) return \"Today\"\n    if (isYesterday(d)) return \"Yesterday\"\n    return format(d, \"MMMM d, yyyy\")\n  }\n\n  // Group messages by date\n  const groupedMessages: { date: string; messages: typeof chatMessages }[] = []\n  let currentDate = \"\"\n\n  chatMessages.forEach((msg) => {\n    const msgDate = formatDateSeparator(msg.timestamp)\n    if (msgDate !== currentDate) {\n      currentDate = msgDate\n      groupedMessages.push({ date: msgDate, messages: [msg] })\n    } else {\n      groupedMessages[groupedMessages.length - 1].messages.push(msg)\n    }\n  })\n\n  // Get message status icon\n  const getStatusIcon = (status: string) => {\n    switch (status) {\n      case \"sent\":\n        return <Check className=\"w-4 h-4 text-[var(--color-muted)]\" />\n      case \"delivered\":\n        return <CheckCheck className=\"w-4 h-4 text-[var(--color-muted)]\" />\n      case \"read\":\n        return <CheckCheck className=\"w-4 h-4 text-blue-500\" />\n      default:\n        return null\n    }\n  }\n\n  if (!selectedChat) return null\n\n  return (\n    <div className=\"flex-1 overflow-y-auto custom-scrollbar p-4 chat-background\">\n      {chatMessages.length === 0 ? (\n        <div className=\"flex flex-col items-center justify-center h-full text-center\">\n          <div className=\"w-20 h-20 rounded-full bg-[var(--color-primary)]/10 flex items-center justify-center mb-4\">\n            <svg\n              className=\"w-10 h-10 text-[var(--color-primary)]\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              viewBox=\"0 0 24 24\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\n              />\n            </svg>\n          </div>\n          <h3 className=\"font-semibold text-[var(--color-foreground)] mb-1\">No messages yet</h3>\n          <p className=\"text-sm text-[var(--color-muted)]\">Send a message to start the conversation!</p>\n        </div>\n      ) : (\n        <>\n          {groupedMessages.map((group, groupIndex) => (\n            <div key={groupIndex}>\n              {/* Date separator */}\n              <div className=\"flex items-center justify-center my-4\">\n                <span className=\"px-3 py-1 text-xs font-medium text-[var(--color-muted-foreground)] bg-[var(--color-card)] rounded-lg shadow-sm\">\n                  {group.date}\n                </span>\n              </div>\n\n              {/* Messages */}\n              {group.messages.map((message, msgIndex) => {\n                const isSent = message.senderId === user?.id\n                const sender = dummyUsers.find((u) => u.id === message.senderId)\n                const showSenderName =\n                  selectedChat.type === \"group\" &&\n                  !isSent &&\n                  (msgIndex === 0 || group.messages[msgIndex - 1].senderId !== message.senderId)\n\n                return (\n                  <div key={message.id} className={`flex mb-1 ${isSent ? \"justify-end\" : \"justify-start\"}`}>\n                    <div\n                      className={`max-w-[70%] ${\n                        isSent ? \"bg-[var(--color-message-sent)]\" : \"bg-[var(--color-message-received)]\"\n                      } rounded-2xl px-4 py-2 shadow-sm ${isSent ? \"rounded-br-md\" : \"rounded-bl-md\"}`}\n                    >\n                      {/* Sender name for group chats */}\n                      {showSenderName && (\n                        <p className=\"text-xs font-semibold text-[var(--color-primary)] mb-1\">\n                          {sender?.name || \"Unknown\"}\n                        </p>\n                      )}\n\n                      {/* Message content */}\n                      <p className=\"text-[var(--color-foreground)] text-sm leading-relaxed break-words\">\n                        {message.content}\n                      </p>\n\n                      {/* Timestamp and status */}\n                      <div className={`flex items-center gap-1 mt-1 ${isSent ? \"justify-end\" : \"justify-start\"}`}>\n                        <span className=\"text-[10px] text-[var(--color-muted)]\">{formatTime(message.timestamp)}</span>\n                        {isSent && getStatusIcon(message.status)}\n                      </div>\n                    </div>\n                  </div>\n                )\n              })}\n            </div>\n          ))}\n          <div ref={messagesEndRef} />\n        </>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3649, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Abhinay%20Chowdary/OneDrive/fsd_project/quick-chat-react-project%20%281%29/components/message-input.tsx"],"sourcesContent":["\"use client\"\n\n/**\n * QuickChat - Message Input Component\n *\n * Input field for composing and sending messages.\n * Features typing indicator integration and emoji support placeholder.\n */\n\nimport type React from \"react\"\nimport { useState, useRef, useEffect } from \"react\"\nimport { Send, Smile, Paperclip, Mic } from \"lucide-react\"\nimport { useChat } from \"@/context/chat-context\"\nimport { useSocket } from \"@/context/socket-context\"\n\nexport function MessageInput() {\n  const { selectedChat, sendMessage, setTyping } = useChat()\n  const { emit } = useSocket()\n\n  const [message, setMessage] = useState(\"\")\n  const [isTyping, setIsTyping] = useState(false)\n  const inputRef = useRef<HTMLInputElement>(null)\n  const typingTimeoutRef = useRef<NodeJS.Timeout | null>(null)\n\n  // Focus input when chat changes\n  useEffect(() => {\n    inputRef.current?.focus()\n  }, [selectedChat?.id])\n\n  // Handle typing indicator\n  useEffect(() => {\n    if (!selectedChat) return\n\n    if (message && !isTyping) {\n      setIsTyping(true)\n      setTyping(selectedChat.id, true)\n      emit(\"typing:start\", { chatId: selectedChat.id })\n    }\n\n    // Clear previous timeout\n    if (typingTimeoutRef.current) {\n      clearTimeout(typingTimeoutRef.current)\n    }\n\n    // Set new timeout to stop typing indicator\n    typingTimeoutRef.current = setTimeout(() => {\n      if (isTyping) {\n        setIsTyping(false)\n        setTyping(selectedChat.id, false)\n        emit(\"typing:stop\", { chatId: selectedChat.id })\n      }\n    }, 2000)\n\n    return () => {\n      if (typingTimeoutRef.current) {\n        clearTimeout(typingTimeoutRef.current)\n      }\n    }\n  }, [message, selectedChat, isTyping, setTyping, emit])\n\n  const handleSend = () => {\n    if (!message.trim() || !selectedChat) return\n\n    sendMessage(message)\n    setMessage(\"\")\n    setIsTyping(false)\n    setTyping(selectedChat.id, false)\n    emit(\"typing:stop\", { chatId: selectedChat.id })\n\n    inputRef.current?.focus()\n  }\n\n  const handleKeyPress = (e: React.KeyboardEvent) => {\n    if (e.key === \"Enter\" && !e.shiftKey) {\n      e.preventDefault()\n      handleSend()\n    }\n  }\n\n  if (!selectedChat) return null\n\n  return (\n    <div className=\"p-3 bg-[var(--color-card)] border-t border-[var(--color-border)]\">\n      <div className=\"flex items-center gap-2\">\n        {/* Emoji button */}\n        <button className=\"p-2 rounded-full hover:bg-[var(--color-secondary)] transition-colors\">\n          <Smile className=\"w-6 h-6 text-[var(--color-muted-foreground)]\" />\n        </button>\n\n        {/* Attachment button */}\n        <button className=\"p-2 rounded-full hover:bg-[var(--color-secondary)] transition-colors\">\n          <Paperclip className=\"w-6 h-6 text-[var(--color-muted-foreground)]\" />\n        </button>\n\n        {/* Input field */}\n        <div className=\"flex-1\">\n          <input\n            ref={inputRef}\n            type=\"text\"\n            value={message}\n            onChange={(e) => setMessage(e.target.value)}\n            onKeyPress={handleKeyPress}\n            placeholder=\"Type a message...\"\n            className=\"w-full px-4 py-3 bg-[var(--color-input)] rounded-full text-[var(--color-foreground)] placeholder:text-[var(--color-muted)] focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)]\"\n          />\n        </div>\n\n        {/* Send/Voice button */}\n        {message.trim() ? (\n          <button\n            onClick={handleSend}\n            className=\"p-3 rounded-full bg-[var(--color-primary)] hover:bg-[var(--color-primary-hover)] transition-colors\"\n          >\n            <Send className=\"w-5 h-5 text-white\" />\n          </button>\n        ) : (\n          <button className=\"p-3 rounded-full hover:bg-[var(--color-secondary)] transition-colors\">\n            <Mic className=\"w-5 h-5 text-[var(--color-muted-foreground)]\" />\n          </button>\n        )}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAUA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAbA;;;;;;AAeO,SAAS;IACd,MAAM,EAAE,YAAY,EAAE,WAAW,EAAE,SAAS,EAAE,GAAG,IAAA,mMAAO;IACxD,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,uMAAS;IAE1B,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,8QAAQ,EAAC;IACvC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,8QAAQ,EAAC;IACzC,MAAM,WAAW,IAAA,4QAAM,EAAmB;IAC1C,MAAM,mBAAmB,IAAA,4QAAM,EAAwB;IAEvD,gCAAgC;IAChC,IAAA,+QAAS,EAAC;QACR,SAAS,OAAO,EAAE;IACpB,GAAG;QAAC,cAAc;KAAG;IAErB,0BAA0B;IAC1B,IAAA,+QAAS,EAAC;QACR,IAAI,CAAC,cAAc;QAEnB,IAAI,WAAW,CAAC,UAAU;YACxB,YAAY;YACZ,UAAU,aAAa,EAAE,EAAE;YAC3B,KAAK,gBAAgB;gBAAE,QAAQ,aAAa,EAAE;YAAC;QACjD;QAEA,yBAAyB;QACzB,IAAI,iBAAiB,OAAO,EAAE;YAC5B,aAAa,iBAAiB,OAAO;QACvC;QAEA,2CAA2C;QAC3C,iBAAiB,OAAO,GAAG,WAAW;YACpC,IAAI,UAAU;gBACZ,YAAY;gBACZ,UAAU,aAAa,EAAE,EAAE;gBAC3B,KAAK,eAAe;oBAAE,QAAQ,aAAa,EAAE;gBAAC;YAChD;QACF,GAAG;QAEH,OAAO;YACL,IAAI,iBAAiB,OAAO,EAAE;gBAC5B,aAAa,iBAAiB,OAAO;YACvC;QACF;IACF,GAAG;QAAC;QAAS;QAAc;QAAU;QAAW;KAAK;IAErD,MAAM,aAAa;QACjB,IAAI,CAAC,QAAQ,IAAI,MAAM,CAAC,cAAc;QAEtC,YAAY;QACZ,WAAW;QACX,YAAY;QACZ,UAAU,aAAa,EAAE,EAAE;QAC3B,KAAK,eAAe;YAAE,QAAQ,aAAa,EAAE;QAAC;QAE9C,SAAS,OAAO,EAAE;IACpB;IAEA,MAAM,iBAAiB,CAAC;QACtB,IAAI,EAAE,GAAG,KAAK,WAAW,CAAC,EAAE,QAAQ,EAAE;YACpC,EAAE,cAAc;YAChB;QACF;IACF;IAEA,IAAI,CAAC,cAAc,OAAO;IAE1B,qBACE,2SAAC;QAAI,WAAU;kBACb,cAAA,2SAAC;YAAI,WAAU;;8BAEb,2SAAC;oBAAO,WAAU;8BAChB,cAAA,2SAAC,0QAAK;wBAAC,WAAU;;;;;;;;;;;8BAInB,2SAAC;oBAAO,WAAU;8BAChB,cAAA,2SAAC,sRAAS;wBAAC,WAAU;;;;;;;;;;;8BAIvB,2SAAC;oBAAI,WAAU;8BACb,cAAA,2SAAC;wBACC,KAAK;wBACL,MAAK;wBACL,OAAO;wBACP,UAAU,CAAC,IAAM,WAAW,EAAE,MAAM,CAAC,KAAK;wBAC1C,YAAY;wBACZ,aAAY;wBACZ,WAAU;;;;;;;;;;;gBAKb,QAAQ,IAAI,mBACX,2SAAC;oBACC,SAAS;oBACT,WAAU;8BAEV,cAAA,2SAAC,uQAAI;wBAAC,WAAU;;;;;;;;;;yCAGlB,2SAAC;oBAAO,WAAU;8BAChB,cAAA,2SAAC,oQAAG;wBAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;AAM3B"}},
    {"offset": {"line": 3831, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Abhinay%20Chowdary/OneDrive/fsd_project/quick-chat-react-project%20%281%29/components/chat-window.tsx"],"sourcesContent":["\"use client\"\nimport { MessageSquare } from \"lucide-react\"\nimport { useChat } from \"@/context/chat-context\"\nimport { ChatHeader } from \"./chat-header\"\nimport { MessageList } from \"./message-list\"\nimport { MessageInput } from \"./message-input\"\n\ninterface ChatWindowProps {\n  onBackClick?: () => void\n}\n\nexport function ChatWindow({ onBackClick }: ChatWindowProps) {\n  const { selectedChat } = useChat()\n\n  if (!selectedChat) {\n    return (\n      <div className=\"flex-1 flex flex-col items-center justify-center bg-[var(--color-background)] text-center p-8\">\n        <div className=\"w-24 h-24 rounded-full bg-[var(--color-primary)]/10 flex items-center justify-center mb-6\">\n          <MessageSquare className=\"w-12 h-12 text-[var(--color-primary)]\" />\n        </div>\n        <h2 className=\"text-2xl font-semibold text-[var(--color-foreground)] mb-2\">Welcome to QuickChat</h2>\n        <p className=\"text-[var(--color-muted)] max-w-md\">\n          Select a conversation from the sidebar or start a new chat to begin messaging. Your messages are fast, simple,\n          and secure.\n        </p>\n        <div className=\"mt-8 flex items-center gap-4 text-sm text-[var(--color-muted)]\">\n          <div className=\"flex items-center gap-2\">\n            <span className=\"w-2 h-2 rounded-full bg-[var(--color-online)]\" />\n            <span>End-to-end encrypted</span>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <span className=\"w-2 h-2 rounded-full bg-[var(--color-primary)]\" />\n            <span>Real-time messaging</span>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"flex-1 flex flex-col h-full\">\n      <ChatHeader onBackClick={onBackClick} />\n      <MessageList />\n      <MessageInput />\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;AALA;;;;;;;AAWO,SAAS,WAAW,EAAE,WAAW,EAAmB;IACzD,MAAM,EAAE,YAAY,EAAE,GAAG,IAAA,mMAAO;IAEhC,IAAI,CAAC,cAAc;QACjB,qBACE,2SAAC;YAAI,WAAU;;8BACb,2SAAC;oBAAI,WAAU;8BACb,cAAA,2SAAC,sSAAa;wBAAC,WAAU;;;;;;;;;;;8BAE3B,2SAAC;oBAAG,WAAU;8BAA6D;;;;;;8BAC3E,2SAAC;oBAAE,WAAU;8BAAqC;;;;;;8BAIlD,2SAAC;oBAAI,WAAU;;sCACb,2SAAC;4BAAI,WAAU;;8CACb,2SAAC;oCAAK,WAAU;;;;;;8CAChB,2SAAC;8CAAK;;;;;;;;;;;;sCAER,2SAAC;4BAAI,WAAU;;8CACb,2SAAC;oCAAK,WAAU;;;;;;8CAChB,2SAAC;8CAAK;;;;;;;;;;;;;;;;;;;;;;;;IAKhB;IAEA,qBACE,2SAAC;QAAI,WAAU;;0BACb,2SAAC,wMAAU;gBAAC,aAAa;;;;;;0BACzB,2SAAC,0MAAW;;;;;0BACZ,2SAAC,4MAAY;;;;;;;;;;;AAGnB"}},
    {"offset": {"line": 3977, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Abhinay%20Chowdary/OneDrive/fsd_project/quick-chat-react-project%20%281%29/components/home-page.tsx"],"sourcesContent":["\"use client\"\n\n/**\n * QuickChat - Home Page Component\n *\n * Main application layout with responsive sidebar and chat window.\n */\n\nimport { useState } from \"react\"\nimport { Sidebar } from \"./sidebar\"\nimport { ChatWindow } from \"./chat-window\"\nimport { useChat } from \"@/context/chat-context\"\n\nexport function HomePage() {\n  const { selectedChat } = useChat()\n  const [showSidebar, setShowSidebar] = useState(true)\n\n  return (\n    <div className=\"h-screen flex overflow-hidden bg-[var(--color-background)]\">\n      {/* Sidebar - hidden on mobile when chat is selected */}\n      <div\n        className={`${\n          selectedChat && !showSidebar ? \"hidden\" : \"flex\"\n        } md:flex w-full md:w-[400px] lg:w-[420px] flex-shrink-0`}\n      >\n        <div className=\"w-full h-full\">\n          <Sidebar onMobileClose={() => setShowSidebar(false)} />\n        </div>\n      </div>\n\n      {/* Chat Window */}\n      <div className={`${!selectedChat || showSidebar ? \"hidden\" : \"flex\"} md:flex flex-1 flex-col`}>\n        <ChatWindow onBackClick={() => setShowSidebar(true)} />\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;;;;CAIC,GAED;AACA;AACA;AACA;AAXA;;;;;;AAaO,SAAS;IACd,MAAM,EAAE,YAAY,EAAE,GAAG,IAAA,mMAAO;IAChC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,8QAAQ,EAAC;IAE/C,qBACE,2SAAC;QAAI,WAAU;;0BAEb,2SAAC;gBACC,WAAW,GACT,gBAAgB,CAAC,cAAc,WAAW,OAC3C,uDAAuD,CAAC;0BAEzD,cAAA,2SAAC;oBAAI,WAAU;8BACb,cAAA,2SAAC,8LAAO;wBAAC,eAAe,IAAM,eAAe;;;;;;;;;;;;;;;;0BAKjD,2SAAC;gBAAI,WAAW,GAAG,CAAC,gBAAgB,cAAc,WAAW,OAAO,wBAAwB,CAAC;0BAC3F,cAAA,2SAAC,wMAAU;oBAAC,aAAa,IAAM,eAAe;;;;;;;;;;;;;;;;;AAItD"}},
    {"offset": {"line": 4048, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Abhinay%20Chowdary/OneDrive/fsd_project/quick-chat-react-project%20%281%29/app/page.tsx"],"sourcesContent":["\"use client\"\n\n/**\n * QuickChat - Main Application Entry Point\n *\n * This is the root page component that handles:\n * - Authentication state routing\n * - Context providers setup\n * - Page transitions\n */\n\nimport { useState } from \"react\"\nimport { AuthProvider, useAuth } from \"@/context/auth-context\"\nimport { ChatProvider } from \"@/context/chat-context\"\nimport { SocketProvider } from \"@/context/socket-context\"\nimport { FriendProvider } from \"@/context/friend-context\"\nimport { LoginPage } from \"@/components/login-page\"\nimport { RegisterPage } from \"@/components/register-page\"\nimport { HomePage } from \"@/components/home-page\"\n\nfunction AppContent() {\n  const { isAuthenticated, isLoading } = useAuth()\n  const [authMode, setAuthMode] = useState<\"login\" | \"register\">(\"login\")\n\n  // Show loading state\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-[var(--color-background)]\">\n        <div className=\"text-center\">\n          <div className=\"w-12 h-12 rounded-full border-4 border-[var(--color-primary)] border-t-transparent animate-spin mx-auto mb-4\" />\n          <p className=\"text-[var(--color-muted)]\">Loading QuickChat...</p>\n        </div>\n      </div>\n    )\n  }\n\n  // Show auth pages if not authenticated\n  if (!isAuthenticated) {\n    return authMode === \"login\" ? (\n      <LoginPage onSwitchToRegister={() => setAuthMode(\"register\")} />\n    ) : (\n      <RegisterPage onSwitchToLogin={() => setAuthMode(\"login\")} />\n    )\n  }\n\n  return (\n    <SocketProvider>\n      <ChatProvider>\n        <FriendProvider>\n          <HomePage />\n        </FriendProvider>\n      </ChatProvider>\n    </SocketProvider>\n  )\n}\n\nexport default function QuickChatApp() {\n  return (\n    <AuthProvider>\n      <AppContent />\n    </AuthProvider>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;;;;;;;CAOC,GAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlBA;;;;;;;;;;AAoBA,SAAS;IACP,MAAM,EAAE,eAAe,EAAE,SAAS,EAAE,GAAG,IAAA,mMAAO;IAC9C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,8QAAQ,EAAuB;IAE/D,qBAAqB;IACrB,IAAI,WAAW;QACb,qBACE,2SAAC;YAAI,WAAU;sBACb,cAAA,2SAAC;gBAAI,WAAU;;kCACb,2SAAC;wBAAI,WAAU;;;;;;kCACf,2SAAC;wBAAE,WAAU;kCAA4B;;;;;;;;;;;;;;;;;IAIjD;IAEA,uCAAuC;IACvC,IAAI,CAAC,iBAAiB;QACpB,OAAO,aAAa,wBAClB,2SAAC,sMAAS;YAAC,oBAAoB,IAAM,YAAY;;;;;iCAEjD,2SAAC,4MAAY;YAAC,iBAAiB,IAAM,YAAY;;;;;;IAErD;IAEA,qBACE,2SAAC,4MAAc;kBACb,cAAA,2SAAC,wMAAY;sBACX,cAAA,2SAAC,4MAAc;0BACb,cAAA,2SAAC,oMAAQ;;;;;;;;;;;;;;;;;;;;AAKnB;AAEe,SAAS;IACtB,qBACE,2SAAC,wMAAY;kBACX,cAAA,2SAAC;;;;;;;;;;AAGP"}}]
}